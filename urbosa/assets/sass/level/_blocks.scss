@import './theme';
@import './fonts';
@import './mixins';

.wp-block-group.center{
  >.wp-block-group__inner-container{
    max-width: $contentCorridorMaxWidth;
    margin: 0 auto;
    padding: 0 $globalPadding;
  }
}
/* special treatment to theme_slider who is used without nesting */
main>.urbosa-block.cb_theme_slider.alignfull{
  .content-wrapper{
    font-size: calc(1vw + 0.5rem);
  }
}

.urbosa-block{

  &.cb_content_panel{
    max-width: 100%;
    &::before{ padding-bottom: 20%;}
    &.center {
      max-width: 100%;
      .content-wrapper{ 
        max-width: $contentCorridorMaxWidth;
        margin: 0 auto;
      }
    }
    /* content-holder */
    .image-left, .image-right{
      height: 100%;
      width: 100%;
      position: absolute;
      background-repeat: no-repeat;
      background-position-y: bottom;
      bottom: 0;
      transition: opacity .5s ease-in;
      z-index: 5;
      opacity: 1;
      pointer-events: none;
    }
    .image-left{
      background-position-x: left;
      left: 0%;
    }
    .image-right{
      background-position-x: right;
      right: 0%;
    }
    .content-holder{
      position: relative;
    }
    .content{
      padding: 1rem;
    
    }
    /* actual content container */
    .content-wrapper{
      height: 100%;
      width: 100%;
      display: flex;
      z-index: 9;
      position: relative;
    }
    .columns{ width:100%;}
  }

  &.cb_theme_slider {
    padding:0;
    &.admin{ overflow: hidden;}


    /* each-slider */
    .each-slider{
      outline: none;
      .actual-content{

        width: 100%;

        /* content text */
        .content-wrapper{
          display: flex;
          position: absolute;
          z-index: 6;
          color: white;
          text-shadow: 1px 1px 2px rgba(0,0,0,.5);
          width: 100%;
          height: 100%;
          *{ color: white; }
          .the_content{
            padding: 3rem;
            min-width: 50%;
          }
          &.topcenter{ justify-content: center;}
          &.topright{justify-content: flex-start;}

          &.left,&.center,&.right{
            align-items:  center;
          }
          &.left{ justify-content: flex-start;}
          &.center{  justify-content: center;}
          &.right{justify-content: flex-end;}

          &.bottomleft,&.bottomcenter,&.bottomright{
            align-items: flex-end;
          }
          &.bottomcenter{justify-content: center;}
          &.bottomright{justify-content:flex-end;}


        }
        
        /* video type */
        .video-wrapper{ 
          z-index: 5;
          width: 100%;
          height: 100%;
          background-color: black;
          position: relative;
          video.full{ width: 100%;}
        }



        /* image type */
        .image-wrapper {
          position: relative;
          z-index: 5;
          background-color: white;
          width: 100%;
          height: 100%;
          @include bg_cover;
          img {
            width: 100%;
          }
          .simpleParallax{
            position: absolute;
          }
        }

        .youtube-lightbox{
          width: 100%;
          z-index: 1;
          position: absolute;
          height: 100%;
          cursor: pointer;
          outline: none;
          top: 0;
        }


        .mobile{ display: none;}
        .desktop{ display: block;}

        .light-box{
          cursor: pointer;
        }
      }

    }
  }

  &.cb_repeater_posts{

    /* common */

    .title:not(h1){font-weight: bold;font-size: 1.5rem;}
    a,img{ display: block; }
    img { width:100%; height: 100%; object-fit: cover;}
    figure{ overflow: hidden;}
    .ratio{
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
      will-transform: transform;
      transform: translateZ(0);
    }

    /* style type */

    >.split{
      &.alternate{
        >.column:nth-child(even){
          flex-direction: row-reverse;
          .column:last-child >*{ padding-right: 2rem;}
        }
        >.column:nth-child(odd){
          .column:last-child >*{ padding-left: 2rem;}
        }
      }
      &.default{
        >.column>.column:last-child>*{padding-left: 2rem;}
      }
    }

    >.center{
      .card{
        position: relative;
        background: transparent;
        padding: 0;
       

        .title{ 
          padding-top: 0!important;
          position: absolute;
          top: 0;
          width: 100%;
          z-index: 99;
          height: 100%;
          font-size: calc(.9vw + 1em);

          a{
          display: flex;
          height: 100%;

            align-items: center;
            justify-content: center;
            text-shadow: 1px 1px 1px rgba(0,0,0,.5);
            color: white;
          }
        }
        
        figure a{
          transition: transform .5s ease-in-out;
        }
        .title:hover + figure a{
          transform: scale(1.1);
        }
        .desc{
          display: none;
        }
      }
    }


  }

  &.cb_accordion {
    .item {
      position: relative;
      .q,.a .content{ 
        padding: 1rem 0;
      }
      .q{
        border-bottom: 1px solid grey;
        cursor: pointer;
        font-weight: bold;
      }
      .a{
        width: 100%;
        max-height: 0px;
        overflow: hidden;
        display: block;
        transition: all .3s linear;
        border-bottom: none;
        opacity: 0;
      }
    }
    .icon {
      height: 20px;
      width: 20px;
      display: inline-block;
      background-image: url('../../img/icons/cross.png');
      background-position: center;
      background-size: cover;
      float: right;
      transition: all .3s linear;
      pointer-events: none;
    }
    .item:first-child .q{
      border-top: 1px solid grey;
      padding-top: .9rem;
    }
    .item.active{
      .icon {
        transform: rotate(135deg);
      }
      .a{
        max-height: initial;
        border-bottom: 1px solid grey;
        opacity: 1;
      }
    }
  }

  &.cb_google_map{
    .content-holder{
      width: 100%;
      height: 100%;
      position: absolute;
    }
    .acf-map{
      height: 100%;
      width: 100%;
    }
  }

  .no-resource-set{
    background-color: #eeeeee;
    min-height: 300px;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
  }
}
/* Pop-up property card */
.window-property{
  display: none;
  font-size: 2em;
  width: 250px;
  
  .close{
    cursor: pointer;
    float: right;
    color: white;
    margin: .5rem;
    display: block;
    height: 10px;
    width: 10px;
    img{
      width: 100%;
      height: 100%;
      display: block;
    }
  }
}
/* Map popup */
.popup-bubble{position:absolute;top:0;left:0;transform:translate(-40%, -105%);background-color:white;padding:0;font-family:sans-serif;overflow-y:auto;box-shadow:0px 2px 10px 1px rgba(0,0,0,0.5);display:block;}
.popup-bubble-anchor{position:absolute;width:100%;bottom:8px;left:0;}
.popup-bubble-anchor::after{position:absolute;top:0;left:0;transform:translate(-50%, 0);width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:8px solid white;}
.popup-container{cursor:auto;height:0;position:absolute;}


/* within-content-corridor */
@media (max-width: $contentCorridorMaxWidth){
  .wp-block-group.center{
    >.wp-block-group__inner-container{
      padding: 0;
    }
  }
}
/* desktop */
@media (min-width: 1025px){}
/* tablet */
@media (max-width: 1024px){}
/* mobile */
@media (max-width: 768px){
  &.urbosa-block{
    &.cb_theme_slider {
      /* each-slider */
      .each-slider{
        .actual-content{

          /* content-wrapper */
          .content-wrapper{
            .the_content{
              width: 100%;
            }
            &.topleft,&.topcenter, &.topright,
            &.left, &.center,&.right,
            &.bottomleft, &.bottomcenter, &.bottomright{
              align-items: center;
              justify-content: center;
            }
          }

          /* video-type */
          .video-wrapper {
            video{
              width: 100%;
              top: 0;
              left:0;
              transform: initial;
            }
          }

          /* image-type */
          .poster{
            position: absolute;
            top: 0px;
            pointer-events: none;
          }
          .mobile{ display: block;}
          .desktop{ display: none;}
        }

      }
    }
    &.cb_repeater_posts{
      >.split{
        &.alternate,&.default{
          >.column:nth-child(even){
            .column:last-child >*{ padding-right: 0;}
          }
          >.column:nth-child(odd){
            .column:last-child >*{ padding-left: 0;}
          }
        }
      }
    }
    &.cb_content_panel{
      .content{
        padding: 1rem 0;
      }
      .image-left, .image-right{
        display: none;
      }
    }
    &.cb_google_map{
      padding: 0;
    }
  }

}
