 /*
 * # Fomantic UI - 2.7.8
 * https://github.com/fomantic/Fomantic-UI
 * http://fomantic-ui.com/
 *
 * Copyright 2014 Contributors
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(ge,e,w,k){"use strict";ge.isFunction=ge.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),ge.fn.calendar=function(o){var h,e=ge(this),a=e.selector||"",b=(new Date).getTime(),v=[],y=o,C="string"==typeof y,x=[].slice.call(arguments,1),D={5:{row:4,column:3},10:{row:3,column:2},15:{row:2,column:2},20:{row:3,column:1},30:{row:2,column:1}};return e.each(function(){var f,le,ce=ge.isPlainObject(o)?ge.extend(!0,{},ge.fn.calendar.settings,o):ge.extend({},ge.fn.calendar.settings),de=ce.className,e=ce.namespace,r=ce.selector,ue=ce.formatter,n=ce.parser,fe=ce.metadata,me=D[ce.minTimeGap],s=ce.error,t="."+e,i="module-"+e,l=ge(this),c=l.find(r.input),pe=l.find(r.popup),d=l.find(r.activator),u=this,m=l.data(i),p=!1,g=!1;le={initialize:function(){le.debug("Initializing calendar for",u,l),f=le.get.isTouch(),le.setup.config(),le.setup.popup(),le.setup.inline(),le.setup.input(),le.setup.date(),le.create.calendar(),le.bind.events(),le.instantiate()},instantiate:function(){le.verbose("Storing instance of calendar"),m=le,l.data(i,m)},destroy:function(){le.verbose("Destroying previous calendar for",u),l.removeData(i),le.unbind.events()},setup:{config:function(){null!==le.get.minDate()&&le.set.minDate(l.data(fe.minDate)),null!==le.get.maxDate()&&le.set.maxDate(l.data(fe.maxDate))},popup:function(){if(!ce.inline&&(d.length||(d=l.children().first()).length))if(ge.fn.popup!==k){if(!pe.length){var e=d.parent(),t=0!==e.closest(r.append).length?"appendTo":"prependTo";pe=ge("<div/>").addClass(de.popup)[t](e)}pe.addClass(de.calendar);var n=ce.onVisible,i=ce.onHidden;c.length||(pe.attr("tabindex","0"),n=function(){return le.focus(),ce.onVisible.apply(pe,arguments)},i=function(){return le.blur(),ce.onHidden.apply(pe,arguments)});var o=ce.on||(c.length?"focus":"click"),a=ge.extend({},ce.popupOptions,{popup:pe,on:o,hoverable:"hover"===o,onShow:function(){return le.set.focusDate(le.get.date()),le.set.mode(ce.startMode),ce.onShow.apply(pe,arguments)},onVisible:n,onHide:ce.onHide,onHidden:i});le.popup(a)}else le.error(s.popup)},inline:function(){d.length&&!ce.inline||(pe=ge("<div/>").addClass(de.calendar).appendTo(l),c.length||pe.attr("tabindex","0"))},input:function(){ce.touchReadonly&&c.length&&f&&c.prop("readonly",!0)},date:function(){if(ce.initialDate){var e=n.date(ce.initialDate,ce);le.set.date(e,ce.formatInput,!1)}else if(l.data(fe.date)!==k){e=n.date(l.data(fe.date),ce);le.set.date(e,ce.formatInput,!1)}else if(c.length){var t=c.val();e=n.date(t,ce);le.set.date(e,ce.formatInput,!1)}}},create:{calendar:function(){var e,t,n,i,o,a,r,s=le.get.mode(),l=new Date,c=le.get.date(),d=le.get.focusDate(),u=d||c||ce.initialDate||l;u=le.helper.dateInRange(u),d||(d=u,le.set.focusDate(d,!1,!1));var f="year"===s,m="month"===s,p="day"===s,g="hour"===s,h="minute"===s,b="time"===ce.type,v=Math.max(ce.multiMonth,1),y=p?le.get.monthOffset():0,C=u.getMinutes(),x=u.getHours(),D=u.getDate(),w=u.getMonth()+y,k=u.getFullYear(),S=p?ce.showWeekNumbers?8:7:g?4:me.column,T=p||g?6:me.row,M=p?v:1,A=pe,F=A.hasClass("left")?"right center":"left center";for(A.empty(),1<M&&(r=ge("<div/>").addClass(de.grid).appendTo(A)),i=0;i<M;i++){if(1<M)A=ge("<div/>").addClass(de.column).appendTo(r);var O=w+i,P=(new Date(k,O,1).getDay()-ce.firstDayOfWeek%7+7)%7;if(!ce.constantHeight&&p){var E=new Date(k,O+1,0).getDate()+P;T=Math.ceil(E/7)}var R=f?10:m?1:0,H=p?1:0,z=g||h?1:0,N=g||h?D:1,j=new Date(k-R,O-H,N-z,x),V=new Date(k+R,O+H,N+z,x),I=f?new Date(10*Math.ceil(k/10)-9,0,0):m?new Date(k,0,0):p?new Date(k,O,0):new Date(k,O,D,-1),q=f?new Date(10*Math.ceil(k/10)+1,0,1):m?new Date(k+1,0,1):p?new Date(k,O+1,1):new Date(k,O,D+1),B=s;p&&ce.showWeekNumbers&&(B+=" andweek");var L=ge("<table/>").addClass(de.table).addClass(B).appendTo(A),W=S;if(!b){var U=ge("<thead/>").appendTo(L);o=ge("<tr/>").appendTo(U),a=ge("<th/>").attr("colspan",""+S).appendTo(o);var Y=f||m?new Date(k,0,1):p?new Date(k,O,1):new Date(k,O,D,x,C),G=ge("<span/>").addClass(de.link).appendTo(a);G.text(ue.header(Y,s,ce));var K=m?ce.disableYear?"day":"year":p?ce.disableMonth?"year":"month":"day";if(G.data(fe.mode,K),0===i){var X=ge("<span/>").addClass(de.prev).appendTo(a);X.data(fe.focusDate,j),X.toggleClass(de.disabledCell,!le.helper.isDateInRange(I,s)),ge("<i/>").addClass(de.prevIcon).appendTo(X)}if(i===M-1){var J=ge("<span/>").addClass(de.next).appendTo(a);J.data(fe.focusDate,V),J.toggleClass(de.disabledCell,!le.helper.isDateInRange(q,s)),ge("<i/>").addClass(de.nextIcon).appendTo(J)}if(p)for(o=ge("<tr/>").appendTo(U),ce.showWeekNumbers&&((a=ge("<th/>").appendTo(o)).text(ce.text.weekNo),a.addClass(de.weekCell),W--),e=0;e<W;e++)(a=ge("<th/>").appendTo(o)).text(ue.dayColumnHeader((e+ce.firstDayOfWeek)%7,ce))}var Q=ge("<tbody/>").appendTo(L);for(e=f?10*Math.ceil(k/10)-9:p?1-P:0,t=0;t<T;t++)for(o=ge("<tr/>").appendTo(Q),p&&ce.showWeekNumbers&&((a=ge("<th/>").appendTo(o)).text(le.get.weekOfYear(k,O,e+1-ce.firstDayOfWeek)),a.addClass(de.weekCell)),n=0;n<W;n++,e++){var Z=f?new Date(e,O,1,x,C):m?new Date(k,e,1,x,C):p?new Date(k,O,e,x,C):g?new Date(k,O,D,e):new Date(k,O,D,x,e*ce.minTimeGap),$=f?e:m?ce.text.monthsShort[e]:p?Z.getDate():ue.time(Z,ce,!0);(a=ge("<td/>").addClass(de.cell).appendTo(o)).text($),a.data(fe.date,Z);var _=p&&Z.getMonth()!==(O+12)%12,ee=!ce.selectAdjacentDays&&_||!le.helper.isDateInRange(Z,s)||ce.isDisabled(Z,s)||le.helper.isDisabled(Z,s)||!le.helper.isEnabled(Z,s);if(ee){var te=le.helper.findDayAsObject(Z,s,ce.disabledDates);null!==te&&te[fe.message]&&(a.attr("data-tooltip",te[fe.message]),a.attr("data-position",F))}else{var ne=le.helper.findDayAsObject(Z,s,ce.eventDates);null!==ne&&(a.addClass(ne[fe.class]||ce.eventClass),ne[fe.message]&&(a.attr("data-tooltip",ne[fe.message]),a.attr("data-position",F)))}var ie=le.helper.dateEqual(Z,c,s),oe=le.helper.dateEqual(Z,l,s);a.toggleClass(de.adjacentCell,_),a.toggleClass(de.disabledCell,ee),a.toggleClass(de.activeCell,ie&&!_),g||h||a.toggleClass(de.todayCell,!_&&oe);var ae={mode:s,adjacent:_,disabled:ee,active:ie,today:oe};ue.cell(a,Z,ae),le.helper.dateEqual(Z,d,s)&&le.set.focusDate(Z,!1,!1)}if(ce.today){var re=ge("<tr/>").appendTo(Q),se=ge("<td/>").attr("colspan",""+S).addClass(de.today).appendTo(re);se.text(ue.today(ce)),se.data(fe.date,l)}le.update.focus(!1,L)}}},update:{focus:function(e,t){t=t||pe;var s=le.get.mode(),n=le.get.date(),l=le.get.focusDate(),c=le.get.startDate(),d=le.get.endDate(),u=(e?l:null)||n||(f?null:l);t.find("td").each(function(){var e=ge(this),t=e.data(fe.date);if(t){var n=e.hasClass(de.disabledCell),i=e.hasClass(de.activeCell),o=e.hasClass(de.adjacentCell),a=le.helper.dateEqual(t,l,s),r=!!u&&(!!c&&le.helper.isDateInRange(t,s,c,u)||!!d&&le.helper.isDateInRange(t,s,u,d));e.toggleClass(de.focusCell,a&&(!f||p)&&(!o||ce.selectAdjacentDays&&o)&&!n),e.toggleClass(de.rangeCell,r&&!i&&!n)}})}},refresh:function(){le.create.calendar()},bind:{events:function(){le.debug("Binding events"),pe.on("mousedown"+t,le.event.mousedown),pe.on("touchstart"+t,le.event.mousedown),pe.on("mouseup"+t,le.event.mouseup),pe.on("touchend"+t,le.event.mouseup),pe.on("mouseover"+t,le.event.mouseover),c.length?(c.on("input"+t,le.event.inputChange),c.on("focus"+t,le.event.inputFocus),c.on("blur"+t,le.event.inputBlur),c.on("click"+t,le.event.inputClick),c.on("keydown"+t,le.event.keydown)):pe.on("keydown"+t,le.event.keydown)}},unbind:{events:function(){le.debug("Unbinding events"),pe.off(t),c.length&&c.off(t)}},event:{mouseover:function(e){var t=ge(e.target).data(fe.date),n=1===e.buttons;t&&le.set.focusDate(t,!1,!0,n)},mousedown:function(e){c.length&&e.preventDefault(),p=0<=e.type.indexOf("touch");var t=ge(e.target).data(fe.date);t&&le.set.focusDate(t,!1,!0,!0)},mouseup:function(e){le.focus(),e.preventDefault(),e.stopPropagation(),p=!1;var t=ge(e.target);if(!t.hasClass("disabled")){var n=t.parent();(n.data(fe.date)||n.data(fe.focusDate)||n.data(fe.mode))&&(t=n);var i=t.data(fe.date),o=t.data(fe.focusDate),a=t.data(fe.mode);if(i&&!1!==ce.onSelect.call(u,i,le.get.mode())){var r=t.hasClass(de.today);le.selectDate(i,r)}else o?le.set.focusDate(o):a&&le.set.mode(a)}},keydown:function(e){var t=e.which;if(27!==t&&9!==t||le.popup("hide"),le.popup("is visible"))if(37===t||38===t||39===t||40===t){var n="day"===(u=le.get.mode())?7:"hour"===u?4:"minute"===u?me.column:3,i=37===t?-1:38===t?-n:39==t?1:n;i*="minute"===u?ce.minTimeGap:1;var o=le.get.focusDate()||le.get.date()||new Date,a=o.getFullYear()+("year"===u?i:0),r=o.getMonth()+("month"===u?i:0),s=o.getDate()+("day"===u?i:0),l=o.getHours()+("hour"===u?i:0),c=o.getMinutes()+("minute"===u?i:0),d=new Date(a,r,s,l,c);"time"===ce.type&&(d=le.helper.mergeDateTime(o,d)),le.helper.isDateInRange(d,u)&&le.set.focusDate(d)}else if(13===t){var u=le.get.mode(),f=le.get.focusDate();f&&!ce.isDisabled(f,u)&&!le.helper.isDisabled(f,u)&&le.helper.isEnabled(f,u)&&le.selectDate(f),e.preventDefault(),e.stopPropagation()}38!==t&&40!==t||(e.preventDefault(),le.popup("show"))},inputChange:function(){var e=c.val(),t=n.date(e,ce);le.set.date(t,!1)},inputFocus:function(){pe.addClass(de.active)},inputBlur:function(){if(pe.removeClass(de.active),ce.formatInput){var e=le.get.date(),t=ue.datetime(e,ce);c.val(t)}},inputClick:function(){le.popup("show")}},get:{weekOfYear:function(e,t,n){var i,o,a;return i=Date.UTC(e,t,n+3)/864e5,o=Math.floor(i/7),a=new Date(6048e5*o).getUTCFullYear(),o-Math.floor(Date.UTC(a,0,7)/6048e5)+1},date:function(){return le.helper.sanitiseDate(l.data(fe.date))||null},inputDate:function(){return c.val()},focusDate:function(){return l.data(fe.focusDate)||null},startDate:function(){var e=le.get.calendarModule(ce.startCalendar);return(e?e.get.date():l.data(fe.startDate))||null},endDate:function(){var e=le.get.calendarModule(ce.endCalendar);return(e?e.get.date():l.data(fe.endDate))||null},minDate:function(){return l.data(fe.minDate)||null},maxDate:function(){return l.data(fe.maxDate)||null},monthOffset:function(){return l.data(fe.monthOffset)||0},mode:function(){var e=l.data(fe.mode)||ce.startMode,t=le.get.validModes();return 0<=ge.inArray(e,t)?e:"time"===ce.type?"hour":"month"===ce.type?"month":"year"===ce.type?"year":"day"},validModes:function(){var e=[];return"time"!==ce.type&&(ce.disableYear&&"year"!==ce.type||e.push("year"),(ce.disableMonth||"year"===ce.type)&&"month"!==ce.type||e.push("month"),0<=ce.type.indexOf("date")&&e.push("day")),0<=ce.type.indexOf("time")&&(e.push("hour"),ce.disableMinute||e.push("minute")),e},isTouch:function(){try{return w.createEvent("TouchEvent"),!0}catch(e){return!1}},calendarModule:function(e){return e?(e instanceof ge||(e=ge(e).first()),e.data(i)):null}},set:{date:function(e,t,n){t=!1!==t,n=!1!==n,e=le.helper.sanitiseDate(e),e=le.helper.dateInRange(e);var i=le.get.mode(),o=ue.datetime(e,ce);if(n&&!1===ce.onChange.call(u,e,o,i))return!1;if(le.set.focusDate(e),ce.isDisabled(e,i))return!1;var a=le.get.endDate();a&&e&&a<e&&le.set.endDate(k),le.set.dataKeyValue(fe.date,e),t&&c.length&&c.val(o)},startDate:function(e,t){e=le.helper.sanitiseDate(e);var n=le.get.calendarModule(ce.startCalendar);n&&n.set.date(e),le.set.dataKeyValue(fe.startDate,e,t)},endDate:function(e,t){e=le.helper.sanitiseDate(e);var n=le.get.calendarModule(ce.endCalendar);n&&n.set.date(e),le.set.dataKeyValue(fe.endDate,e,t)},focusDate:function(e,t,n,i){e=le.helper.sanitiseDate(e),e=le.helper.dateInRange(e);var o="day"===le.get.mode(),a=le.get.focusDate();if(o&&e&&a){var r=12*(e.getFullYear()-a.getFullYear())+e.getMonth()-a.getMonth();if(r){var s=le.get.monthOffset()-r;le.set.monthOffset(s,!1)}}var l=le.set.dataKeyValue(fe.focusDate,e,t);n=!1!==n&&l&&!1===t||g!=i,g=i,n&&le.update.focus(i)},minDate:function(e){e=le.helper.sanitiseDate(e),null!==ce.maxDate&&ce.maxDate<=e?le.verbose("Unable to set minDate variable bigger that maxDate variable",e,ce.maxDate):(le.setting("minDate",e),le.set.dataKeyValue(fe.minDate,e))},maxDate:function(e){e=le.helper.sanitiseDate(e),null!==ce.minDate&&ce.minDate>=e?le.verbose("Unable to set maxDate variable lower that minDate variable",e,ce.minDate):(le.setting("maxDate",e),le.set.dataKeyValue(fe.maxDate,e))},monthOffset:function(e,t){var n=Math.max(ce.multiMonth,1);e=Math.max(1-n,Math.min(0,e)),le.set.dataKeyValue(fe.monthOffset,e,t)},mode:function(e,t){le.set.dataKeyValue(fe.mode,e,t)},dataKeyValue:function(e,t,n){var i=l.data(e),o=i===t||i<=t&&t<=i;return t?l.data(e,t):l.removeData(e),(n=!1!==n&&!o)&&le.refresh(),!o}},selectDate:function(e,t){le.verbose("New date selection",e);var n=le.get.mode();if(t||"minute"===n||ce.disableMinute&&"hour"===n||"date"===ce.type&&"day"===n||"month"===ce.type&&"month"===n||"year"===ce.type&&"year"===n){if(!(!1===le.set.date(e))&&ce.closable){le.popup("hide");var i=le.get.calendarModule(ce.endCalendar);i&&(i.popup("show"),i.focus())}}else{var o="year"===n?ce.disableMonth?"day":"month":"month"===n?"day":"day"===n?"hour":"minute";le.set.mode(o),"hour"===n||"day"===n&&le.get.date()?le.set.date(e):le.set.focusDate(e)}},changeDate:function(e){le.set.date(e)},clear:function(){le.set.date(k)},popup:function(){return d.popup.apply(d,arguments)},focus:function(){c.length?c.focus():pe.focus()},blur:function(){c.length?c.blur():pe.blur()},helper:{isDisabled:function(t,n){return"day"===n&&(-1!==ce.disabledDaysOfWeek.indexOf(t.getDay())||ce.disabledDates.some(function(e){return"string"==typeof e&&(e=le.helper.sanitiseDate(e)),e instanceof Date?le.helper.dateEqual(t,e,n):null!==e&&"object"==typeof e&&e[fe.date]?le.helper.dateEqual(t,le.helper.sanitiseDate(e[fe.date]),n):void 0}))},isEnabled:function(t,n){return"day"!==n||(0===ce.enabledDates.length||ce.enabledDates.some(function(e){return"string"==typeof e&&(e=le.helper.sanitiseDate(e)),e instanceof Date?le.helper.dateEqual(t,e,n):null!==e&&"object"==typeof e&&e[fe.date]?le.helper.dateEqual(t,le.helper.sanitiseDate(e[fe.date]),n):void 0}))},findDayAsObject:function(e,t,n){if("day"===t)for(var i,o=0,a=n.length;o<a;o++){if("string"==typeof(i=n[o])&&(i=le.helper.sanitiseDate(i)),i instanceof Date&&le.helper.dateEqual(e,i,t)){var r={};return r[fe.date]=i,r}if(null!==i&&"object"==typeof i&&i[fe.date]&&le.helper.dateEqual(e,le.helper.sanitiseDate(i[fe.date]),t))return i}return null},sanitiseDate:function(e){return e?(e instanceof Date||(e=n.date(""+e,ce)),!e||null===e||isNaN(e.getTime())?k:e):k},dateDiff:function(e,t,n){n=n||"day";var i="time"===ce.type,o="year"===n,a=o||"month"===n,r="minute"===n,s=r||"hour"===n;return e=new Date(i?2e3:e.getFullYear(),i?0:o?0:e.getMonth(),i?1:a?1:e.getDate(),s?e.getHours():0,r?ce.minTimeGap*Math.floor(e.getMinutes()/ce.minTimeGap):0),(t=new Date(i?2e3:t.getFullYear(),i?0:o?0:t.getMonth(),i?1:a?1:t.getDate(),s?t.getHours():0,r?ce.minTimeGap*Math.floor(t.getMinutes()/ce.minTimeGap):0)).getTime()-e.getTime()},dateEqual:function(e,t,n){return!!e&&!!t&&0===le.helper.dateDiff(e,t,n)},isDateInRange:function(e,t,n,i){if(!n&&!i){var o=le.get.startDate();n=o&&ce.minDate?new Date(Math.max(o,ce.minDate)):o||ce.minDate,i=ce.maxDate}return n=n&&new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),ce.minTimeGap*Math.ceil(n.getMinutes()/ce.minTimeGap)),!(!e||n&&0<le.helper.dateDiff(e,n,t)||i&&0<le.helper.dateDiff(i,e,t))},dateInRange:function(e,t,n){if(!t&&!n){var i=le.get.startDate();t=i&&ce.minDate?new Date(Math.max(i,ce.minDate)):i||ce.minDate,n=ce.maxDate}t=t&&new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),ce.minTimeGap*Math.ceil(t.getMinutes()/ce.minTimeGap));var o="time"===ce.type;return e?t&&0<le.helper.dateDiff(e,t,"minute")?o?le.helper.mergeDateTime(e,t):t:n&&0<le.helper.dateDiff(n,e,"minute")?o?le.helper.mergeDateTime(e,n):n:e:e},mergeDateTime:function(e,t){return e&&t?new Date(e.getFullYear(),e.getMonth(),e.getDate(),t.getHours(),t.getMinutes()):t}},setting:function(e,t){if(le.debug("Changing setting",e,t),ge.isPlainObject(e))ge.extend(!0,ce,e);else{if(t===k)return ce[e];ge.isPlainObject(ce[e])?ge.extend(!0,ce[e],t):ce[e]=t}},internal:function(e,t){if(ge.isPlainObject(e))ge.extend(!0,le,e);else{if(t===k)return le[e];le[e]=t}},debug:function(){!ce.silent&&ce.debug&&(ce.performance?le.performance.log(arguments):(le.debug=Function.prototype.bind.call(console.info,console,ce.name+":"),le.debug.apply(console,arguments)))},verbose:function(){!ce.silent&&ce.verbose&&ce.debug&&(ce.performance?le.performance.log(arguments):(le.verbose=Function.prototype.bind.call(console.info,console,ce.name+":"),le.verbose.apply(console,arguments)))},error:function(){ce.silent||(le.error=Function.prototype.bind.call(console.error,console,ce.name+":"),le.error.apply(console,arguments))},performance:{log:function(e){var t,n;ce.performance&&(n=(t=(new Date).getTime())-(b||t),b=t,v.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:u,"Execution Time":n})),clearTimeout(le.performance.timer),le.performance.timer=setTimeout(le.performance.display,500)},display:function(){var e=ce.name+":",n=0;b=!1,clearTimeout(le.performance.timer),ge.each(v,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",a&&(e+=" '"+a+"'"),(console.group!==k||console.table!==k)&&0<v.length&&(console.groupCollapsed(e),console.table?console.table(v):ge.each(v,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),v=[]}},invoke:function(i,e,t){var o,a,n,r=m;return e=e||x,t=u||t,"string"==typeof i&&r!==k&&(i=i.split(/[\. ]/),o=i.length-1,ge.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(ge.isPlainObject(r[n])&&e!=o)r=r[n];else{if(r[n]!==k)return a=r[n],!1;if(!ge.isPlainObject(r[t])||e==o)return r[t]!==k?a=r[t]:le.error(s.method,i),!1;r=r[t]}})),ge.isFunction(a)?n=a.apply(t,e):a!==k&&(n=a),Array.isArray(h)?h.push(n):h!==k?h=[h,n]:n!==k&&(h=n),a}},C?(m===k&&le.initialize(),le.invoke(y)):(m!==k&&m.invoke("destroy"),le.initialize())}),h!==k?h:this},ge.fn.calendar.settings={name:"Calendar",namespace:"calendar",silent:!1,debug:!1,verbose:!1,performance:!1,type:"datetime",firstDayOfWeek:0,constantHeight:!0,today:!1,closable:!0,monthFirst:!0,touchReadonly:!0,inline:!1,on:null,initialDate:null,startMode:!1,minDate:null,maxDate:null,ampm:!0,disableYear:!1,disableMonth:!1,disableMinute:!1,formatInput:!0,startCalendar:null,endCalendar:null,multiMonth:1,minTimeGap:5,showWeekNumbers:null,disabledDates:[],disabledDaysOfWeek:[],enabledDates:[],eventDates:[],centuryBreak:60,currentCentury:2e3,selectAdjacentDays:!1,popupOptions:{position:"bottom left",lastResort:"bottom left",prefer:"opposite",hideOnScroll:!1},text:{days:["S","M","T","W","T","F","S"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",now:"Now",am:"AM",pm:"PM",weekNo:"Week"},formatter:{header:function(e,t,n){return"year"===t?n.formatter.yearHeader(e,n):"month"===t?n.formatter.monthHeader(e,n):"day"===t?n.formatter.dayHeader(e,n):"hour"===t?n.formatter.hourHeader(e,n):n.formatter.minuteHeader(e,n)},yearHeader:function(e,t){var n=10*Math.ceil(e.getFullYear()/10);return n-9+" - "+(2+n)},monthHeader:function(e,t){return e.getFullYear()},dayHeader:function(e,t){return t.text.months[e.getMonth()]+" "+e.getFullYear()},hourHeader:function(e,t){return t.formatter.date(e,t)},minuteHeader:function(e,t){return t.formatter.date(e,t)},dayColumnHeader:function(e,t){return t.text.days[e]},datetime:function(e,t){if(!e)return"";var n="time"===t.type?"":t.formatter.date(e,t),i=t.type.indexOf("time")<0?"":t.formatter.time(e,t,!1);return n+("datetime"===t.type?" ":"")+i},date:function(e,t){if(!e)return"";var n=e.getDate(),i=t.text.months[e.getMonth()],o=e.getFullYear();return"year"===t.type?o:"month"===t.type?i+" "+o:(t.monthFirst?i+" "+n:n+" "+i)+", "+o},time:function(e,t,n){if(!e)return"";var i=e.getHours(),o=e.getMinutes(),a="";return t.ampm&&(a=" "+(i<12?t.text.am:t.text.pm),i=0===i?12:12<i?i-12:i),i+":"+(o<10?"0":"")+o+a},today:function(e){return"date"===e.type?e.text.today:e.text.now},cell:function(e,t,n){}},parser:{date:function(e,t){if(e instanceof Date)return e;if(!e)return null;if(0===(e=(""+e).trim().toLowerCase()).length)return null;var n,i,o,a=new Date(e);if(!isNaN(a.getDate()))return a;var r=-1,s=-1,l=-1,c=-1,d=-1,u=k,f="time"===t.type,m=t.type.indexOf("time")<0,p=e.split(t.regExp.dateWords),g=e.split(t.regExp.dateNumbers);if(!m)for(u=0<=ge.inArray(t.text.am.toLowerCase(),p)||!(0<=ge.inArray(t.text.pm.toLowerCase(),p))&&k,n=0;n<g.length;n++){var h=g[n];if(0<=h.indexOf(":")){if(s<0||r<0){var b=h.split(":");for(o=0;o<Math.min(2,b.length);o++)i=parseInt(b[o]),isNaN(i)&&(i=0),0===o?s=i%24:r=i%60}g.splice(n,1)}}if(!f){for(n=0;n<p.length;n++){var v=p[n];if(!(v.length<=0)){for(v=v.substring(0,Math.min(v.length,3)),i=0;i<t.text.months.length;i++){var y=t.text.months[i];if((y=y.substring(0,Math.min(v.length,Math.min(y.length,3))).toLowerCase())===v){c=i+1;break}}if(0<=c)break}}for(n=0;n<g.length;n++)if(i=parseInt(g[n]),!isNaN(i)&&i>=t.centuryBreak&&n===g.length-1){i<=99&&(i+=t.currentCentury-100),d=i,g.splice(n,1);break}if(c<0)for(n=0;n<g.length;n++)if(o=1<n||t.monthFirst?n:1===n?0:1,i=parseInt(g[o]),!isNaN(i)&&1<=i&&i<=12){c=i,g.splice(o,1);break}for(n=0;n<g.length;n++)if(i=parseInt(g[n]),!isNaN(i)&&1<=i&&i<=31){l=i,g.splice(n,1);break}if(d<0)for(n=g.length-1;0<=n;n--)if(i=parseInt(g[n]),!isNaN(i)){i<=99&&(i+=t.currentCentury),d=i,g.splice(n,1);break}}if(!m){if(s<0)for(n=0;n<g.length;n++)if(i=parseInt(g[n]),!isNaN(i)&&0<=i&&i<=23){s=i,g.splice(n,1);break}if(r<0)for(n=0;n<g.length;n++)if(i=parseInt(g[n]),!isNaN(i)&&0<=i&&i<=59){r=i,g.splice(n,1);break}}if(r<0&&s<0&&l<0&&c<0&&d<0)return null;r<0&&(r=0),s<0&&(s=0),l<0&&(l=1),c<0&&(c=1),d<0&&(d=(new Date).getFullYear()),u!==k&&(u?12===s&&(s=0):s<12&&(s+=12));var C=new Date(d,c-1,l,s,r);return C.getMonth()===c-1&&C.getFullYear()===d||(C=new Date(d,c,0,s,r)),isNaN(C.getTime())?null:C}},onChange:function(e,t,n){return!0},onShow:function(){},onVisible:function(){},onHide:function(){},onHidden:function(){},onSelect:function(e,t){},isDisabled:function(e,t){return!1},selector:{popup:".ui.popup",input:"input",activator:"input",append:".inline.field,.inline.fields"},regExp:{dateWords:/[^A-Za-z\u00C0-\u024F]+/g,dateNumbers:/[^\d:]+/g},error:{popup:"UI Popup, a required component is not included in this page",method:"The method you called is not defined."},className:{calendar:"calendar",active:"active",popup:"ui popup",grid:"ui equal width grid",column:"column",table:"ui celled center aligned unstackable table",prev:"prev link",next:"next link",prevIcon:"chevron left icon",nextIcon:"chevron right icon",link:"link",cell:"link",disabledCell:"disabled",weekCell:"disabled",adjacentCell:"adjacent",activeCell:"active",rangeCell:"range",focusCell:"focus",todayCell:"today",today:"today link"},metadata:{date:"date",focusDate:"focusDate",startDate:"startDate",endDate:"endDate",minDate:"minDate",maxDate:"maxDate",mode:"mode",monthOffset:"monthOffset",message:"message",class:"class"},eventClass:"blue"}}(jQuery,window,document),function(j,V,I,q){"use strict";j.isFunction=j.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},V=void 0!==V&&V.Math==Math?V:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),j.fn.modal=function(S){var T,e=j(this),M=j(V),A=j(I),F=j("body"),O=e.selector||"",P=(new Date).getTime(),E=[],R=S,H="string"==typeof R,z=[].slice.call(arguments,1),N=V.requestAnimationFrame||V.mozRequestAnimationFrame||V.webkitRequestAnimationFrame||V.msRequestAnimationFrame||function(e){setTimeout(e,0)};return e.each(function(){var o,a,e,i,n,r,s,t,l,c,d,u=j.isPlainObject(S)?j.extend(!0,{},j.fn.modal.settings,S):j.extend({},j.fn.modal.settings),f=u.selector,m=u.className,p=u.namespace,g=u.error,h="."+p,b="module-"+p,v=j(this),y=j(u.context),C=v.find(f.close),x=this,D=v.data(b),w=!1,k="";d={initialize:function(){d.verbose("Initializing dimmer",y),d.create.id(),d.create.dimmer(),u.allowMultiple&&d.create.innerDimmer(),u.centered||v.addClass("top aligned"),d.refreshModals(),d.bind.events(),u.observeChanges&&d.observeChanges(),d.instantiate()},instantiate:function(){d.verbose("Storing instance of modal"),D=d,v.data(b,D)},create:{dimmer:function(){var e={debug:u.debug,dimmerName:"modals"},t=j.extend(!0,e,u.dimmerSettings);j.fn.dimmer!==q?(d.debug("Creating dimmer"),i=y.dimmer(t),u.detachable?(d.verbose("Modal is detachable, moving content into dimmer"),i.dimmer("add content",v)):d.set.undetached(),n=i.dimmer("get dimmer")):d.error(g.dimmer)},id:function(){l=(Math.random().toString(16)+"000000000").substr(2,8),t="."+l,d.verbose("Creating unique id for element",l)},innerDimmer:function(){0==v.find(f.dimmer).length&&v.prepend('<div class="ui inverted dimmer"></div>')}},destroy:function(){c&&c.disconnect(),d.verbose("Destroying previous modal"),v.removeData(b).off(h),M.off(t),n.off(t),C.off(h),y.dimmer("destroy")},observeChanges:function(){"MutationObserver"in V&&((c=new MutationObserver(function(e){d.debug("DOM tree modified, refreshing"),d.refresh()})).observe(x,{childList:!0,subtree:!0}),d.debug("Setting up mutation observer",c))},refresh:function(){d.remove.scrolling(),d.cacheSizes(),d.can.useFlex()||d.set.modalOffset(),d.set.screenHeight(),d.set.type()},refreshModals:function(){a=v.siblings(f.modal),o=a.add(v)},attachEvents:function(e,t){var n=j(e);t=j.isFunction(d[t])?d[t]:d.toggle,0<n.length?(d.debug("Attaching modal events to element",e,t),n.off(h).on("click"+h,t)):d.error(g.notFound,e)},bind:{events:function(){d.verbose("Attaching events"),v.on("click"+h,f.close,d.event.close).on("click"+h,f.approve,d.event.approve).on("click"+h,f.deny,d.event.deny),M.on("resize"+t,d.event.resize)},scrollLock:function(){i.get(0).addEventListener("touchmove",d.event.preventScroll,{passive:!1})}},unbind:{scrollLock:function(){i.get(0).removeEventListener("touchmove",d.event.preventScroll,{passive:!1})}},get:{id:function(){return(Math.random().toString(16)+"000000000").substr(2,8)}},event:{approve:function(){w||!1===u.onApprove.call(x,j(this))?d.verbose("Approve callback returned false cancelling hide"):(w=!0,d.hide(function(){w=!1}))},preventScroll:function(e){-1!==e.target.className.indexOf("dimmer")&&e.preventDefault()},deny:function(){w||!1===u.onDeny.call(x,j(this))?d.verbose("Deny callback returned false cancelling hide"):(w=!0,d.hide(function(){w=!1}))},close:function(){d.hide()},mousedown:function(e){var t=j(e.target);(r=0<t.closest(f.modal).length)&&d.verbose("Mouse down event registered inside the modal"),(s=d.is.scrolling()&&j(V).outerWidth()-u.scrollbarWidth<=e.clientX)&&d.verbose("Mouse down event registered inside the scrollbar")},mouseup:function(e){if(u.closable)if(r)d.debug("Dimmer clicked but mouse down was initially registered inside the modal");else if(s)d.debug("Dimmer clicked but mouse down was initially registered inside the scrollbar");else{var t=0<j(e.target).closest(f.modal).length,n=j.contains(I.documentElement,e.target);if(!t&&n&&d.is.active()&&v.hasClass(m.front)){if(d.debug("Dimmer clicked, hiding all modals"),u.allowMultiple){if(!d.hideAll())return}else if(!d.hide())return;d.remove.clickaway()}}else d.verbose("Dimmer clicked but closable setting is disabled")},debounce:function(e,t){clearTimeout(d.timer),d.timer=setTimeout(e,t)},keyboard:function(e){27==e.which&&(u.closable?(d.debug("Escape key pressed hiding modal"),v.hasClass(m.front)&&d.hide()):d.debug("Escape key pressed, but closable is set to false"),e.preventDefault())},resize:function(){i.dimmer("is active")&&(d.is.animating()||d.is.active())&&N(d.refresh)}},toggle:function(){d.is.active()||d.is.animating()?d.hide():d.show()},show:function(e){e=j.isFunction(e)?e:function(){},d.refreshModals(),d.set.dimmerSettings(),d.set.dimmerStyles(),d.showModal(e)},hide:function(e){return e=j.isFunction(e)?e:function(){},d.refreshModals(),d.hideModal(e)},showModal:function(e){e=j.isFunction(e)?e:function(){},d.is.animating()||!d.is.active()?(d.showDimmer(),d.cacheSizes(),d.can.useFlex()?d.remove.legacy():(d.set.legacy(),d.set.modalOffset(),d.debug("Using non-flex legacy modal positioning.")),d.set.screenHeight(),d.set.type(),d.set.clickaway(),!u.allowMultiple&&d.others.active()?d.hideOthers(d.showModal):(w=!1,u.allowMultiple&&(d.others.active()&&a.filter("."+m.active).find(f.dimmer).addClass("active"),u.detachable&&v.detach().appendTo(n)),u.onShow.call(x),u.transition&&j.fn.transition!==q&&v.transition("is supported")?(d.debug("Showing modal with css animations"),v.transition({debug:u.debug,animation:u.transition+" in",queue:u.queue,duration:u.duration,useFailSafe:!0,onComplete:function(){u.onVisible.apply(x),u.keyboardShortcuts&&d.add.keyboardShortcuts(),d.save.focus(),d.set.active(),u.autofocus&&d.set.autofocus(),e()}})):d.error(g.noTransition))):d.debug("Modal is already visible")},hideModal:function(e,t,n){var i=a.filter("."+m.active).last();if(e=j.isFunction(e)?e:function(){},d.debug("Hiding modal"),!1===u.onHide.call(x,j(this)))return d.verbose("Hide callback returned false cancelling hide"),w=!1;(d.is.animating()||d.is.active())&&(u.transition&&j.fn.transition!==q&&v.transition("is supported")?(d.remove.active(),v.transition({debug:u.debug,animation:u.transition+" out",queue:u.queue,duration:u.duration,useFailSafe:!0,onStart:function(){d.others.active()||d.others.animating()||t||d.hideDimmer(),u.keyboardShortcuts&&!d.others.active()&&d.remove.keyboardShortcuts()},onComplete:function(){d.unbind.scrollLock(),u.allowMultiple&&(i.addClass(m.front),v.removeClass(m.front),n?o.find(f.dimmer).removeClass("active"):i.find(f.dimmer).removeClass("active")),u.onHidden.call(x),d.remove.dimmerStyles(),d.restore.focus(),e()}})):d.error(g.noTransition))},showDimmer:function(){i.dimmer("is animating")||!i.dimmer("is active")?(d.save.bodyMargin(),d.debug("Showing dimmer"),i.dimmer("show")):d.debug("Dimmer already visible")},hideDimmer:function(){i.dimmer("is animating")||i.dimmer("is active")?(d.unbind.scrollLock(),i.dimmer("hide",function(){d.restore.bodyMargin(),d.remove.clickaway(),d.remove.screenHeight()})):d.debug("Dimmer is not visible cannot hide")},hideAll:function(n){var e=o.filter("."+m.active+", ."+m.animating);if(n=j.isFunction(n)?n:function(){},0<e.length){d.debug("Hiding all visible modals");var i=!0;return j(e.get().reverse()).each(function(e,t){i=i&&j(t).modal("hide modal",n,!1,!0)}),i&&d.hideDimmer(),i}},hideOthers:function(e){var t=a.filter("."+m.active+", ."+m.animating);e=j.isFunction(e)?e:function(){},0<t.length&&(d.debug("Hiding other modals",a),t.modal("hide modal",e,!0))},others:{active:function(){return 0<a.filter("."+m.active).length},animating:function(){return 0<a.filter("."+m.animating).length}},add:{keyboardShortcuts:function(){d.verbose("Adding keyboard shortcuts"),A.on("keyup"+h,d.event.keyboard)}},save:{focus:function(){0<j(I.activeElement).closest(v).length||(e=j(I.activeElement).blur())},bodyMargin:function(){k=F.css("margin-right");var e=parseInt(k.replace(/[^\d.]/g,""))+(V.innerWidth-I.documentElement.clientWidth);F.css("margin-right",e+"px"),F.find(f.bodyFixed).css("padding-right",e+"px")}},restore:{focus:function(){e&&0<e.length&&u.restoreFocus&&e.focus()},bodyMargin:function(){F.css("margin-right",k),F.find(f.bodyFixed).css("padding-right",k)}},remove:{active:function(){v.removeClass(m.active)},legacy:function(){v.removeClass(m.legacy)},clickaway:function(){n.off("mousedown"+t),n.off("mouseup"+t)},dimmerStyles:function(){n.removeClass(m.inverted),i.removeClass(m.blurring)},bodyStyle:function(){""===F.attr("style")&&(d.verbose("Removing style attribute"),F.removeAttr("style"))},screenHeight:function(){d.debug("Removing page height"),F.css("height","")},keyboardShortcuts:function(){d.verbose("Removing keyboard shortcuts"),A.off("keyup"+h)},scrolling:function(){i.removeClass(m.scrolling),v.removeClass(m.scrolling)}},cacheSizes:function(){v.addClass(m.loading);var e=v.prop("scrollHeight"),t=v.outerWidth(),n=v.outerHeight();d.cache!==q&&0===n||(d.cache={pageHeight:j(I).outerHeight(),width:t,height:n+u.offset,scrollHeight:e+u.offset,contextHeight:"body"==u.context?j(V).height():i.height()},d.cache.topOffset=-d.cache.height/2),v.removeClass(m.loading),d.debug("Caching modal and container sizes",d.cache)},can:{useFlex:function(){return"auto"==u.useFlex?u.detachable&&!d.is.ie():u.useFlex},fit:function(){var e=d.cache.contextHeight,t=d.cache.contextHeight/2,n=d.cache.topOffset,i=d.cache.scrollHeight,o=d.cache.height,a=u.padding;return o<i?t+n+i+a<e:o+2*a<e}},is:{active:function(){return v.hasClass(m.active)},ie:function(){return!V.ActiveXObject&&"ActiveXObject"in V||"ActiveXObject"in V},animating:function(){return v.transition("is supported")?v.transition("is animating"):v.is(":visible")},scrolling:function(){return i.hasClass(m.scrolling)},modernBrowser:function(){return!(V.ActiveXObject||"ActiveXObject"in V)}},set:{autofocus:function(){var e=v.find("[tabindex], :input").filter(":visible").filter(function(){return 0===j(this).closest(".disabled").length}),t=e.filter("[autofocus]"),n=0<t.length?t.first():e.first();0<n.length&&n.focus()},clickaway:function(){n.on("mousedown"+t,d.event.mousedown),n.on("mouseup"+t,d.event.mouseup)},dimmerSettings:function(){if(j.fn.dimmer!==q){var e={debug:u.debug,dimmerName:"modals",closable:"auto",useFlex:d.can.useFlex(),duration:{show:u.duration,hide:u.duration}},t=j.extend(!0,e,u.dimmerSettings);u.inverted&&(t.variation=t.variation!==q?t.variation+" inverted":"inverted"),y.dimmer("setting",t)}else d.error(g.dimmer)},dimmerStyles:function(){u.inverted?n.addClass(m.inverted):n.removeClass(m.inverted),u.blurring?i.addClass(m.blurring):i.removeClass(m.blurring)},modalOffset:function(){var e=d.cache.width,t=d.cache.height;v.css({marginTop:!v.hasClass("aligned")&&d.can.fit()?-t/2:0,marginLeft:-e/2}),d.verbose("Setting modal offset for legacy mode")},screenHeight:function(){d.can.fit()?F.css("height",""):v.hasClass("bottom")||(d.debug("Modal is taller than page content, resizing page height"),F.css("height",d.cache.height+2*u.padding))},active:function(){v.addClass(m.active+" "+m.front),a.filter("."+m.active).removeClass(m.front)},scrolling:function(){i.addClass(m.scrolling),v.addClass(m.scrolling),d.unbind.scrollLock()},legacy:function(){v.addClass(m.legacy)},type:function(){d.can.fit()?(d.verbose("Modal fits on screen"),d.others.active()||d.others.animating()||(d.remove.scrolling(),d.bind.scrollLock())):v.hasClass("bottom")?d.verbose("Bottom aligned modal not fitting on screen is unsupported for scrolling"):(d.verbose("Modal cannot fit on screen setting to scrolling"),d.set.scrolling())},undetached:function(){i.addClass(m.undetached)}},setting:function(e,t){if(d.debug("Changing setting",e,t),j.isPlainObject(e))j.extend(!0,u,e);else{if(t===q)return u[e];j.isPlainObject(u[e])?j.extend(!0,u[e],t):u[e]=t}},internal:function(e,t){if(j.isPlainObject(e))j.extend(!0,d,e);else{if(t===q)return d[e];d[e]=t}},debug:function(){!u.silent&&u.debug&&(u.performance?d.performance.log(arguments):(d.debug=Function.prototype.bind.call(console.info,console,u.name+":"),d.debug.apply(console,arguments)))},verbose:function(){!u.silent&&u.verbose&&u.debug&&(u.performance?d.performance.log(arguments):(d.verbose=Function.prototype.bind.call(console.info,console,u.name+":"),d.verbose.apply(console,arguments)))},error:function(){u.silent||(d.error=Function.prototype.bind.call(console.error,console,u.name+":"),d.error.apply(console,arguments))},performance:{log:function(e){var t,n;u.performance&&(n=(t=(new Date).getTime())-(P||t),P=t,E.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:x,"Execution Time":n})),clearTimeout(d.performance.timer),d.performance.timer=setTimeout(d.performance.display,500)},display:function(){var e=u.name+":",n=0;P=!1,clearTimeout(d.performance.timer),j.each(E,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",O&&(e+=" '"+O+"'"),(console.group!==q||console.table!==q)&&0<E.length&&(console.groupCollapsed(e),console.table?console.table(E):j.each(E,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),E=[]}},invoke:function(i,e,t){var o,a,n,r=D;return e=e||z,t=x||t,"string"==typeof i&&r!==q&&(i=i.split(/[\. ]/),o=i.length-1,j.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(j.isPlainObject(r[n])&&e!=o)r=r[n];else{if(r[n]!==q)return a=r[n],!1;if(!j.isPlainObject(r[t])||e==o)return r[t]!==q&&(a=r[t]),!1;r=r[t]}})),j.isFunction(a)?n=a.apply(t,e):a!==q&&(n=a),Array.isArray(T)?T.push(n):T!==q?T=[T,n]:n!==q&&(T=n),a}},H?(D===q&&d.initialize(),d.invoke(R)):(D!==q&&D.invoke("destroy"),d.initialize())}),T!==q?T:this},j.fn.modal.settings={name:"Modal",namespace:"modal",useFlex:"auto",offset:0,silent:!1,debug:!1,verbose:!1,performance:!0,observeChanges:!1,allowMultiple:!1,detachable:!0,closable:!0,autofocus:!0,restoreFocus:!0,inverted:!1,blurring:!1,centered:!0,dimmerSettings:{closable:!1,useCSS:!0},keyboardShortcuts:!0,context:"body",queue:!1,duration:500,transition:"scale",padding:50,scrollbarWidth:10,onShow:function(){},onVisible:function(){},onHide:function(){return!0},onHidden:function(){},onApprove:function(){return!0},onDeny:function(){return!0},selector:{close:"> .close",approve:".actions .positive, .actions .approve, .actions .ok",deny:".actions .negative, .actions .deny, .actions .cancel",modal:".ui.modal",dimmer:"> .ui.dimmer",bodyFixed:"> .ui.fixed.menu, > .ui.right.toast-container, > .ui.right.sidebar"},error:{dimmer:"UI Dimmer, a required component is not included in this page",method:"The method you called is not defined.",notFound:"The element you specified could not be found"},className:{active:"active",animating:"animating",blurring:"blurring",inverted:"inverted",legacy:"legacy",loading:"loading",scrolling:"scrolling",undetached:"undetached",front:"front"}}}(jQuery,window,document),function(R,H,z,N){"use strict";R.isFunction=R.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},H=void 0!==H&&H.Math==Math?H:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),R.fn.sidebar=function(C){var x,e=R(this),D=R(H),w=R(z),k=R("html"),S=R("head"),T=e.selector||"",M=(new Date).getTime(),A=[],F=C,O="string"==typeof F,P=[].slice.call(arguments,1),E=H.requestAnimationFrame||H.mozRequestAnimationFrame||H.webkitRequestAnimationFrame||H.msRequestAnimationFrame||function(e){setTimeout(e,0)};return e.each(function(){var r,s,e,t,l,c,d=R.isPlainObject(C)?R.extend(!0,{},R.fn.sidebar.settings,C):R.extend({},R.fn.sidebar.settings),n=d.selector,a=d.className,i=d.namespace,o=d.regExp,u=d.error,f="."+i,m="module-"+i,p=R(this),g=R(d.context),h=p.children(n.sidebar),b=(g.children(n.fixed),g.children(n.pusher)),v=this,y=p.data(m);c={initialize:function(){c.debug("Initializing sidebar",C),c.create.id(),l=c.get.transitionEvent(),d.delaySetup?E(c.setup.layout):c.setup.layout(),E(function(){c.setup.cache()}),c.instantiate()},instantiate:function(){c.verbose("Storing instance of module",c),y=c,p.data(m,c)},create:{id:function(){e=(Math.random().toString(16)+"000000000").substr(2,8),s="."+e,c.verbose("Creating unique id for element",e)}},destroy:function(){c.verbose("Destroying previous module for",p),p.off(f).removeData(m),c.is.ios()&&c.remove.ios(),g.off(s),D.off(s),w.off(s)},event:{clickaway:function(e){if(d.closable){var t=0<b.find(e.target).length||b.is(e.target),n=g.is(e.target);t&&(c.verbose("User clicked on dimmed page"),c.hide()),n&&(c.verbose("User clicked on dimmable context (scaled out page)"),c.hide())}},touch:function(e){},containScroll:function(e){v.scrollTop<=0&&(v.scrollTop=1),v.scrollTop+v.offsetHeight>=v.scrollHeight&&(v.scrollTop=v.scrollHeight-v.offsetHeight-1)},scroll:function(e){0===R(e.target).closest(n.sidebar).length&&e.preventDefault()}},bind:{clickaway:function(){c.verbose("Adding clickaway events to context",g),g.on("click"+s,c.event.clickaway).on("touchend"+s,c.event.clickaway)},scrollLock:function(){d.scrollLock&&(c.debug("Disabling page scroll"),D.on("DOMMouseScroll"+s,c.event.scroll)),c.verbose("Adding events to contain sidebar scroll"),w.on("touchmove"+s,c.event.touch),p.on("scroll"+f,c.event.containScroll)}},unbind:{clickaway:function(){c.verbose("Removing clickaway events from context",g),g.off(s)},scrollLock:function(){c.verbose("Removing scroll lock from page"),w.off(s),D.off(s),p.off("scroll"+f)}},add:{inlineCSS:function(){var e,t=c.cache.width||p.outerWidth(),n=c.cache.height||p.outerHeight(),i=c.is.rtl(),o=c.get.direction(),a={left:t,right:-t,top:n,bottom:-n};i&&(c.verbose("RTL detected, flipping widths"),a.left=-t,a.right=t),e="<style>","left"===o||"right"===o?(c.debug("Adding CSS rules for animation distance",t),e+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d("+a[o]+"px, 0, 0);           transform: translate3d("+a[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(e+=" .ui.visible."+o+".sidebar ~ .fixed, .ui.visible."+o+".sidebar ~ .pusher {   -webkit-transform: translate3d(0, "+a[o]+"px, 0);           transform: translate3d(0, "+a[o]+"px, 0); }"),c.is.ie()&&("left"===o||"right"===o?(c.debug("Adding CSS rules for animation distance",t),e+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d("+a[o]+"px, 0, 0);           transform: translate3d("+a[o]+"px, 0, 0); }"):"top"!==o&&"bottom"!=o||(e+=" body.pushable > .ui.visible."+o+".sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, "+a[o]+"px, 0);           transform: translate3d(0, "+a[o]+"px, 0); }"),e+=" body.pushable > .ui.visible.left.sidebar ~ .ui.visible.right.sidebar ~ .pusher:after, body.pushable > .ui.visible.right.sidebar ~ .ui.visible.left.sidebar ~ .pusher:after {   -webkit-transform: translate3d(0, 0, 0);           transform: translate3d(0, 0, 0); }"),r=R(e+="</style>").appendTo(S),c.debug("Adding sizing css to head",r)}},refresh:function(){c.verbose("Refreshing selector cache"),g=R(d.context),h=g.children(n.sidebar),b=g.children(n.pusher),g.children(n.fixed),c.clear.cache()},refreshSidebars:function(){c.verbose("Refreshing other sidebars"),h=g.children(n.sidebar)},repaint:function(){c.verbose("Forcing repaint event"),v.style.display="none";v.offsetHeight;v.scrollTop=v.scrollTop,v.style.display=""},setup:{cache:function(){c.cache={width:p.outerWidth(),height:p.outerHeight(),rtl:"rtl"==p.css("direction")}},layout:function(){0===g.children(n.pusher).length&&(c.debug("Adding wrapper element for sidebar"),c.error(u.pusher),b=R('<div class="pusher" />'),g.children().not(n.omitted).not(h).wrapAll(b),c.refresh()),0!==p.nextAll(n.pusher).length&&p.nextAll(n.pusher)[0]===b[0]||(c.debug("Moved sidebar to correct parent element"),c.error(u.movedSidebar,v),p.detach().prependTo(g),c.refresh()),c.clear.cache(),c.set.pushable(),c.set.direction()}},attachEvents:function(e,t){var n=R(e);t=R.isFunction(c[t])?c[t]:c.toggle,0<n.length?(c.debug("Attaching sidebar events to element",e,t),n.on("click"+f,t)):c.error(u.notFound,e)},show:function(e){if(e=R.isFunction(e)?e:function(){},c.is.hidden()){if(c.refreshSidebars(),d.overlay&&(c.error(u.overlay),d.transition="overlay"),c.refresh(),c.othersActive())if(c.debug("Other sidebars currently visible"),d.exclusive){if("overlay"!=d.transition)return void c.hideOthers(c.show);c.hideOthers()}else d.transition="overlay";c.pushPage(function(){e.call(v),d.onShow.call(v)}),d.onChange.call(v),d.onVisible.call(v)}else c.debug("Sidebar is already visible")},hide:function(e){e=R.isFunction(e)?e:function(){},(c.is.visible()||c.is.animating())&&(c.debug("Hiding sidebar",e),c.refreshSidebars(),c.pullPage(function(){e.call(v),d.onHidden.call(v)}),d.onChange.call(v),d.onHide.call(v))},othersAnimating:function(){return 0<h.not(p).filter("."+a.animating).length},othersVisible:function(){return 0<h.not(p).filter("."+a.visible).length},othersActive:function(){return c.othersVisible()||c.othersAnimating()},hideOthers:function(e){var t=h.not(p).filter("."+a.visible),n=t.length,i=0;e=e||function(){},t.sidebar("hide",function(){++i==n&&e()})},toggle:function(){c.verbose("Determining toggled direction"),c.is.hidden()?c.show():c.hide()},pushPage:function(t){var e,n,i,o=c.get.transition(),a="overlay"===o||c.othersActive()?p:b;t=R.isFunction(t)?t:function(){},"scale down"==d.transition&&c.scrollToTop(),c.set.transition(o),c.repaint(),e=function(){c.bind.clickaway(),c.add.inlineCSS(),c.set.animating(),c.set.visible()},n=function(){c.set.dimmed()},i=function(e){e.target==a[0]&&(a.off(l+s,i),c.remove.animating(),c.bind.scrollLock(),t.call(v))},a.off(l+s),a.on(l+s,i),E(e),d.dimPage&&!c.othersVisible()&&E(n)},pullPage:function(t){var e,n,i=c.get.transition(),o="overlay"==i||c.othersActive()?p:b;t=R.isFunction(t)?t:function(){},c.verbose("Removing context push state",c.get.direction()),c.unbind.clickaway(),c.unbind.scrollLock(),e=function(){c.set.transition(i),c.set.animating(),c.remove.visible(),d.dimPage&&!c.othersVisible()&&b.removeClass(a.dimmed)},n=function(e){e.target==o[0]&&(o.off(l+s,n),c.remove.animating(),c.remove.transition(),c.remove.inlineCSS(),("scale down"==i||d.returnScroll&&c.is.mobile())&&c.scrollBack(),t.call(v))},o.off(l+s),o.on(l+s,n),E(e)},scrollToTop:function(){c.verbose("Scrolling to top of page to avoid animation issues"),t=R(H).scrollTop(),p.scrollTop(0),H.scrollTo(0,0)},scrollBack:function(){c.verbose("Scrolling back to original page position"),H.scrollTo(0,t)},clear:{cache:function(){c.verbose("Clearing cached dimensions"),c.cache={}}},set:{ios:function(){k.addClass(a.ios)},pushed:function(){g.addClass(a.pushed)},pushable:function(){g.addClass(a.pushable)},dimmed:function(){b.addClass(a.dimmed)},active:function(){p.addClass(a.active)},animating:function(){p.addClass(a.animating)},transition:function(e){e=e||c.get.transition(),p.addClass(e)},direction:function(e){e=e||c.get.direction(),p.addClass(a[e])},visible:function(){p.addClass(a.visible)},overlay:function(){p.addClass(a.overlay)}},remove:{inlineCSS:function(){c.debug("Removing inline css styles",r),r&&0<r.length&&r.remove()},ios:function(){k.removeClass(a.ios)},pushed:function(){g.removeClass(a.pushed)},pushable:function(){g.removeClass(a.pushable)},active:function(){p.removeClass(a.active)},animating:function(){p.removeClass(a.animating)},transition:function(e){e=e||c.get.transition(),p.removeClass(e)},direction:function(e){e=e||c.get.direction(),p.removeClass(a[e])},visible:function(){p.removeClass(a.visible)},overlay:function(){p.removeClass(a.overlay)}},get:{direction:function(){return p.hasClass(a.top)?a.top:p.hasClass(a.right)?a.right:p.hasClass(a.bottom)?a.bottom:a.left},transition:function(){var e,t=c.get.direction();return e=c.is.mobile()?"auto"==d.mobileTransition?d.defaultTransition.mobile[t]:d.mobileTransition:"auto"==d.transition?d.defaultTransition.computer[t]:d.transition,c.verbose("Determined transition",e),e},transitionEvent:function(){var e,t=z.createElement("element"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==N)return n[e]}},is:{ie:function(){return!H.ActiveXObject&&"ActiveXObject"in H||"ActiveXObject"in H},ios:function(){var e=navigator.userAgent,t=e.match(o.ios),n=e.match(o.mobileChrome);return!(!t||n)&&(c.verbose("Browser was found to be iOS",e),!0)},mobile:function(){var e=navigator.userAgent;return e.match(o.mobile)?(c.verbose("Browser was found to be mobile",e),!0):(c.verbose("Browser is not mobile, using regular transition",e),!1)},hidden:function(){return!c.is.visible()},visible:function(){return p.hasClass(a.visible)},open:function(){return c.is.visible()},closed:function(){return c.is.hidden()},vertical:function(){return p.hasClass(a.top)},animating:function(){return g.hasClass(a.animating)},rtl:function(){return c.cache.rtl===N&&(c.cache.rtl="rtl"==p.css("direction")),c.cache.rtl}},setting:function(e,t){if(c.debug("Changing setting",e,t),R.isPlainObject(e))R.extend(!0,d,e);else{if(t===N)return d[e];R.isPlainObject(d[e])?R.extend(!0,d[e],t):d[e]=t}},internal:function(e,t){if(R.isPlainObject(e))R.extend(!0,c,e);else{if(t===N)return c[e];c[e]=t}},debug:function(){!d.silent&&d.debug&&(d.performance?c.performance.log(arguments):(c.debug=Function.prototype.bind.call(console.info,console,d.name+":"),c.debug.apply(console,arguments)))},verbose:function(){!d.silent&&d.verbose&&d.debug&&(d.performance?c.performance.log(arguments):(c.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),c.verbose.apply(console,arguments)))},error:function(){d.silent||(c.error=Function.prototype.bind.call(console.error,console,d.name+":"),c.error.apply(console,arguments))},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(M||t),M=t,A.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:v,"Execution Time":n})),clearTimeout(c.performance.timer),c.performance.timer=setTimeout(c.performance.display,500)},display:function(){var e=d.name+":",n=0;M=!1,clearTimeout(c.performance.timer),R.each(A,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",T&&(e+=" '"+T+"'"),(console.group!==N||console.table!==N)&&0<A.length&&(console.groupCollapsed(e),console.table?console.table(A):R.each(A,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),A=[]}},invoke:function(i,e,t){var o,a,n,r=y;return e=e||P,t=v||t,"string"==typeof i&&r!==N&&(i=i.split(/[\. ]/),o=i.length-1,R.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(R.isPlainObject(r[n])&&e!=o)r=r[n];else{if(r[n]!==N)return a=r[n],!1;if(!R.isPlainObject(r[t])||e==o)return r[t]!==N?a=r[t]:c.error(u.method,i),!1;r=r[t]}})),R.isFunction(a)?n=a.apply(t,e):a!==N&&(n=a),Array.isArray(x)?x.push(n):x!==N?x=[x,n]:n!==N&&(x=n),a}},O?(y===N&&c.initialize(),c.invoke(F)):(y!==N&&c.invoke("destroy"),c.initialize())}),x!==N?x:this},R.fn.sidebar.settings={name:"Sidebar",namespace:"sidebar",silent:!1,debug:!1,verbose:!1,performance:!0,transition:"auto",mobileTransition:"auto",defaultTransition:{computer:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"},mobile:{left:"uncover",right:"uncover",top:"overlay",bottom:"overlay"}},context:"body",exclusive:!1,closable:!0,dimPage:!0,scrollLock:!1,returnScroll:!1,delaySetup:!1,duration:500,onChange:function(){},onShow:function(){},onHide:function(){},onHidden:function(){},onVisible:function(){},className:{active:"active",animating:"animating",dimmed:"dimmed",ios:"ios",pushable:"pushable",pushed:"pushed",right:"right",top:"top",left:"left",bottom:"bottom",visible:"visible"},selector:{fixed:".fixed",omitted:"script, link, style, .ui.modal, .ui.dimmer, .ui.nag, .ui.fixed",pusher:".pusher",sidebar:".ui.sidebar"},regExp:{ios:/(iPad|iPhone|iPod)/g,mobileChrome:/(CriOS)/g,mobile:/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/g},error:{method:"The method you called is not defined.",pusher:"Had to add pusher element. For optimal performance make sure body content is inside a pusher element",movedSidebar:"Had to move sidebar. For optimal performance make sure sidebar and pusher are direct children of your body tag",overlay:"The overlay setting is no longer supported, use animation: overlay",notFound:"There were no elements that matched the specified selector"}}}(jQuery,window,document),function(S,T,M,A){"use strict";S.isFunction=S.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},T=void 0!==T&&T.Math==Math?T:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),S.fn.sticky=function(b){var v,e=S(this),y=e.selector||"",C=(new Date).getTime(),x=[],D=b,w="string"==typeof D,k=[].slice.call(arguments,1);return e.each(function(){var t,i,e,n,u,f=S.isPlainObject(b)?S.extend(!0,{},S.fn.sticky.settings,b):S.extend({},S.fn.sticky.settings),o=f.className,a=f.namespace,r=f.error,s="."+a,l="module-"+a,c=S(this),d=S(T),m=S(f.scrollContext),p=c.data(l),g=T.requestAnimationFrame||T.mozRequestAnimationFrame||T.webkitRequestAnimationFrame||T.msRequestAnimationFrame||function(e){setTimeout(e,0)},h=this;u={initialize:function(){u.determineContainer(),u.determineContext(),u.verbose("Initializing sticky",f,t),u.save.positions(),u.checkErrors(),u.bind.events(),f.observeChanges&&u.observeChanges(),u.instantiate()},instantiate:function(){u.verbose("Storing instance of module",u),p=u,c.data(l,u)},destroy:function(){u.verbose("Destroying previous instance"),u.reset(),e&&e.disconnect(),n&&n.disconnect(),d.off("load"+s,u.event.load).off("resize"+s,u.event.resize),m.off("scrollchange"+s,u.event.scrollchange),c.removeData(l)},observeChanges:function(){"MutationObserver"in T&&(e=new MutationObserver(u.event.documentChanged),n=new MutationObserver(u.event.changed),e.observe(M,{childList:!0,subtree:!0}),n.observe(h,{childList:!0,subtree:!0}),n.observe(i[0],{childList:!0,subtree:!0}),u.debug("Setting up mutation observer",n))},determineContainer:function(){t=f.container?S(f.container):c.offsetParent()},determineContext:function(){0!==(i=f.context?S(f.context):t).length||u.error(r.invalidContext,f.context,c)},checkErrors:function(){if(u.is.hidden()&&u.error(r.visible,c),u.cache.element.height>u.cache.context.height)return u.reset(),void u.error(r.elementSize,c)},bind:{events:function(){d.on("load"+s,u.event.load).on("resize"+s,u.event.resize),m.off("scroll"+s).on("scroll"+s,u.event.scroll).on("scrollchange"+s,u.event.scrollchange)}},event:{changed:function(e){clearTimeout(u.timer),u.timer=setTimeout(function(){u.verbose("DOM tree modified, updating sticky menu",e),u.refresh()},100)},documentChanged:function(e){[].forEach.call(e,function(e){e.removedNodes&&[].forEach.call(e.removedNodes,function(e){(e==h||0<S(e).find(h).length)&&(u.debug("Element removed from DOM, tearing down events"),u.destroy())})})},load:function(){u.verbose("Page contents finished loading"),g(u.refresh)},resize:function(){u.verbose("Window resized"),g(u.refresh)},scroll:function(){g(function(){m.triggerHandler("scrollchange"+s,m.scrollTop())})},scrollchange:function(e,t){u.stick(t),f.onScroll.call(h)}},refresh:function(e){u.reset(),f.context||u.determineContext(),e&&u.determineContainer(),u.save.positions(),u.stick(),f.onReposition.call(h)},supports:{sticky:function(){var e=S("<div/>");return e.addClass(o.supported),e.css("position").match("sticky")}},save:{lastScroll:function(e){u.lastScroll=e},elementScroll:function(e){u.elementScroll=e},positions:function(){var e={height:m.height()},t={margin:{top:parseInt(c.css("margin-top"),10),bottom:parseInt(c.css("margin-bottom"),10)},offset:c.offset(),width:c.outerWidth(),height:c.outerHeight()},n={offset:i.offset(),height:i.outerHeight()};u.is.standardScroll()||(u.debug("Non-standard scroll. Removing scroll offset from element offset"),e.top=m.scrollTop(),e.left=m.scrollLeft(),t.offset.top+=e.top,n.offset.top+=e.top,t.offset.left+=e.left,n.offset.left+=e.left),u.cache={fits:t.height+f.offset<=e.height,sameHeight:t.height==n.height,scrollContext:{height:e.height},element:{margin:t.margin,top:t.offset.top-t.margin.top,left:t.offset.left,width:t.width,height:t.height,bottom:t.offset.top+t.height},context:{top:n.offset.top,height:n.height,bottom:n.offset.top+n.height}},u.set.containerSize(),u.stick(),u.debug("Caching element positions",u.cache)}},get:{direction:function(e){var t="down";return e=e||m.scrollTop(),u.lastScroll!==A&&(u.lastScroll<e?t="down":u.lastScroll>e&&(t="up")),t},scrollChange:function(e){return e=e||m.scrollTop(),u.lastScroll?e-u.lastScroll:0},currentElementScroll:function(){return u.elementScroll?u.elementScroll:u.is.top()?Math.abs(parseInt(c.css("top"),10))||0:Math.abs(parseInt(c.css("bottom"),10))||0},elementScroll:function(e){e=e||m.scrollTop();var t=u.cache.element,n=u.cache.scrollContext,i=u.get.scrollChange(e),o=t.height-n.height+f.offset,a=u.get.currentElementScroll(),r=a+i;return a=u.cache.fits||r<0?0:o<r?o:r}},remove:{lastScroll:function(){delete u.lastScroll},elementScroll:function(e){delete u.elementScroll},minimumSize:function(){t.css("min-height","")},offset:function(){c.css("margin-top","")}},set:{offset:function(){u.verbose("Setting offset on element",f.offset),c.css("margin-top",f.offset)},containerSize:function(){var e=t.get(0).tagName;"HTML"===e||"body"==e?u.determineContainer():Math.abs(t.outerHeight()-u.cache.context.height)>f.jitter&&(u.debug("Context has padding, specifying exact height for container",u.cache.context.height),t.css({height:u.cache.context.height}))},minimumSize:function(){var e=u.cache.element;t.css("min-height",e.height)},scroll:function(e){u.debug("Setting scroll on element",e),u.elementScroll!=e&&(u.is.top()&&c.css("bottom","").css("top",-e),u.is.bottom()&&c.css("top","").css("bottom",e))},size:function(){0!==u.cache.element.height&&0!==u.cache.element.width&&(h.style.setProperty("width",u.cache.element.width+"px","important"),h.style.setProperty("height",u.cache.element.height+"px","important"))}},is:{standardScroll:function(){return m[0]==T},top:function(){return c.hasClass(o.top)},bottom:function(){return c.hasClass(o.bottom)},initialPosition:function(){return!u.is.fixed()&&!u.is.bound()},hidden:function(){return!c.is(":visible")},bound:function(){return c.hasClass(o.bound)},fixed:function(){return c.hasClass(o.fixed)}},stick:function(e){var t=e||m.scrollTop(),n=u.cache,i=n.fits,o=n.sameHeight,a=n.element,r=n.scrollContext,s=n.context,l=u.is.bottom()&&f.pushing?f.bottomOffset:f.offset,c=(e={top:t+l,bottom:t+l+r.height},i?0:u.get.elementScroll(e.top)),d=!i;0===a.height||o||(u.is.initialPosition()?e.top>=s.bottom?(u.debug("Initial element position is bottom of container"),u.bindBottom()):e.top>a.top&&(a.height+e.top-c>=s.bottom?(u.debug("Initial element position is bottom of container"),u.bindBottom()):(u.debug("Initial element position is fixed"),u.fixTop())):u.is.fixed()?u.is.top()?e.top<=a.top?(u.debug("Fixed element reached top of container"),u.setInitialPosition()):a.height+e.top-c>=s.bottom?(u.debug("Fixed element reached bottom of container"),u.bindBottom()):d&&(u.set.scroll(c),u.save.lastScroll(e.top),u.save.elementScroll(c)):u.is.bottom()&&(e.bottom-a.height<=a.top?(u.debug("Bottom fixed rail has reached top of container"),u.setInitialPosition()):e.bottom>=s.bottom?(u.debug("Bottom fixed rail has reached bottom of container"),u.bindBottom()):d&&(u.set.scroll(c),u.save.lastScroll(e.top),u.save.elementScroll(c))):u.is.bottom()&&(e.top<=a.top?(u.debug("Jumped from bottom fixed to top fixed, most likely used home/end button"),u.setInitialPosition()):f.pushing?u.is.bound()&&e.bottom<=s.bottom&&(u.debug("Fixing bottom attached element to bottom of browser."),u.fixBottom()):u.is.bound()&&e.top<=s.bottom-a.height&&(u.debug("Fixing bottom attached element to top of browser."),u.fixTop())))},bindTop:function(){u.debug("Binding element to top of parent container"),u.remove.offset(),c.css({left:"",top:"",marginBottom:""}).removeClass(o.fixed).removeClass(o.bottom).addClass(o.bound).addClass(o.top),f.onTop.call(h),f.onUnstick.call(h)},bindBottom:function(){u.debug("Binding element to bottom of parent container"),u.remove.offset(),c.css({left:"",top:""}).removeClass(o.fixed).removeClass(o.top).addClass(o.bound).addClass(o.bottom),f.onBottom.call(h),f.onUnstick.call(h)},setInitialPosition:function(){u.debug("Returning to initial position"),u.unfix(),u.unbind()},fixTop:function(){u.debug("Fixing element to top of page"),f.setSize&&u.set.size(),u.set.minimumSize(),u.set.offset(),c.css({left:u.cache.element.left,bottom:"",marginBottom:""}).removeClass(o.bound).removeClass(o.bottom).addClass(o.fixed).addClass(o.top),f.onStick.call(h)},fixBottom:function(){u.debug("Sticking element to bottom of page"),f.setSize&&u.set.size(),u.set.minimumSize(),u.set.offset(),c.css({left:u.cache.element.left,bottom:"",marginBottom:""}).removeClass(o.bound).removeClass(o.top).addClass(o.fixed).addClass(o.bottom),f.onStick.call(h)},unbind:function(){u.is.bound()&&(u.debug("Removing container bound position on element"),u.remove.offset(),c.removeClass(o.bound).removeClass(o.top).removeClass(o.bottom))},unfix:function(){u.is.fixed()&&(u.debug("Removing fixed position on element"),u.remove.minimumSize(),u.remove.offset(),c.removeClass(o.fixed).removeClass(o.top).removeClass(o.bottom),f.onUnstick.call(h))},reset:function(){u.debug("Resetting elements position"),u.unbind(),u.unfix(),u.resetCSS(),u.remove.offset(),u.remove.lastScroll()},resetCSS:function(){c.css({width:"",height:""}),t.css({height:""})},setting:function(e,t){if(S.isPlainObject(e))S.extend(!0,f,e);else{if(t===A)return f[e];f[e]=t}},internal:function(e,t){if(S.isPlainObject(e))S.extend(!0,u,e);else{if(t===A)return u[e];u[e]=t}},debug:function(){!f.silent&&f.debug&&(f.performance?u.performance.log(arguments):(u.debug=Function.prototype.bind.call(console.info,console,f.name+":"),u.debug.apply(console,arguments)))},verbose:function(){!f.silent&&f.verbose&&f.debug&&(f.performance?u.performance.log(arguments):(u.verbose=Function.prototype.bind.call(console.info,console,f.name+":"),u.verbose.apply(console,arguments)))},error:function(){f.silent||(u.error=Function.prototype.bind.call(console.error,console,f.name+":"),u.error.apply(console,arguments))},performance:{log:function(e){var t,n;f.performance&&(n=(t=(new Date).getTime())-(C||t),C=t,x.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:h,"Execution Time":n})),clearTimeout(u.performance.timer),u.performance.timer=setTimeout(u.performance.display,0)},display:function(){var e=f.name+":",n=0;C=!1,clearTimeout(u.performance.timer),S.each(x,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",y&&(e+=" '"+y+"'"),(console.group!==A||console.table!==A)&&0<x.length&&(console.groupCollapsed(e),console.table?console.table(x):S.each(x,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),x=[]}},invoke:function(i,e,t){var o,a,n,r=p;return e=e||k,t=h||t,"string"==typeof i&&r!==A&&(i=i.split(/[\. ]/),o=i.length-1,S.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(S.isPlainObject(r[n])&&e!=o)r=r[n];else{if(r[n]!==A)return a=r[n],!1;if(!S.isPlainObject(r[t])||e==o)return r[t]!==A&&(a=r[t]),!1;r=r[t]}})),S.isFunction(a)?n=a.apply(t,e):a!==A&&(n=a),Array.isArray(v)?v.push(n):v!==A?v=[v,n]:n!==A&&(v=n),a}},w?(p===A&&u.initialize(),u.invoke(D)):(p!==A&&p.invoke("destroy"),u.initialize())}),v!==A?v:this},S.fn.sticky.settings={name:"Sticky",namespace:"sticky",silent:!1,debug:!1,verbose:!0,performance:!0,pushing:!1,context:!1,container:!1,scrollContext:T,offset:0,bottomOffset:0,jitter:5,setSize:!0,observeChanges:!1,onReposition:function(){},onScroll:function(){},onStick:function(){},onUnstick:function(){},onTop:function(){},onBottom:function(){},error:{container:"Sticky element must be inside a relative container",visible:"Element is hidden, you must call refresh after element becomes visible. Use silent setting to surpress this warning in production.",method:"The method you called is not defined.",invalidContext:"Context specified does not exist",elementSize:"Sticky element is larger than its container, cannot create sticky."},className:{bound:"bound",fixed:"fixed",supported:"native",top:"top",bottom:"bottom"}}}(jQuery,window,document),function(x,e,D,w){"use strict";x.isFunction=x.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},e=void 0!==e&&e.Math==Math?e:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),x.fn.transition=function(){var c,r=x(this),p=r.selector||"",g=(new Date).getTime(),h=[],b=arguments,v=b[0],y=[].slice.call(arguments,1),C="string"==typeof v;return r.each(function(i){var d,s,t,u,n,o,e,a,f,m=x(this),l=this;(f={initialize:function(){d=f.get.settings.apply(l,b),u=d.className,t=d.error,n=d.metadata,a="."+d.namespace,e="module-"+d.namespace,s=m.data(e)||f,o=f.get.animationEndEvent(),!1===(C=C&&f.invoke(v))&&(f.verbose("Converted arguments into settings object",d),d.interval?f.delay(d.animate):f.animate(),f.instantiate())},instantiate:function(){f.verbose("Storing instance of module",f),s=f,m.data(e,s)},destroy:function(){f.verbose("Destroying previous module for",l),m.removeData(e)},refresh:function(){f.verbose("Refreshing display type on next animation"),delete f.displayType},forceRepaint:function(){f.verbose("Forcing element repaint");var e=m.parent(),t=m.next();0===t.length?m.detach().appendTo(e):m.detach().insertBefore(t)},repaint:function(){f.verbose("Repainting element");l.offsetWidth},delay:function(e){var t,n=f.get.animationDirection();n=n||(f.can.transition()?f.get.direction():"static"),e=e!==w?e:d.interval,t="auto"==d.reverse&&n==u.outward||1==d.reverse?(r.length-i)*d.interval:i*d.interval,f.debug("Delaying animation by",t),setTimeout(f.animate,t)},animate:function(e){if(d=e||d,!f.is.supported())return f.error(t.support),!1;if(f.debug("Preparing animation",d.animation),f.is.animating()){if(d.queue)return!d.allowRepeats&&f.has.direction()&&f.is.occurring()&&!0!==f.queuing?f.debug("Animation is currently occurring, preventing queueing same animation",d.animation):f.queue(d.animation),!1;if(!d.allowRepeats&&f.is.occurring())return f.debug("Animation is already occurring, will not execute repeated animation",d.animation),!1;f.debug("New animation started, completing previous early",d.animation),s.complete()}f.can.animate()?f.set.animating(d.animation):f.error(t.noAnimation,d.animation,l)},reset:function(){f.debug("Resetting animation to beginning conditions"),f.remove.animationCallbacks(),f.restore.conditions(),f.remove.animating()},queue:function(e){f.debug("Queueing animation of",e),f.queuing=!0,m.one(o+".queue"+a,function(){f.queuing=!1,f.repaint(),f.animate.apply(this,d)})},complete:function(e){e&&e.target===l&&e.stopPropagation(),f.debug("Animation complete",d.animation),f.remove.completeCallback(),f.remove.failSafe(),f.is.looping()||(f.is.outward()?(f.verbose("Animation is outward, hiding element"),f.restore.conditions(),f.hide()):f.is.inward()?(f.verbose("Animation is outward, showing element"),f.restore.conditions(),f.show()):(f.verbose("Static animation completed"),f.restore.conditions(),d.onComplete.call(l)))},force:{visible:function(){var e=m.attr("style"),t=f.get.userStyle(e),n=f.get.displayType(),i=t+"display: "+n+" !important;",o=m[0].style.display;return!n||"none"===o&&d.skipInlineHidden||m[0].tagName.match(/(script|link|style)/i)?(f.remove.transition(),!1):(f.verbose("Overriding default display to show element",n),m.attr("style",i),!0)},hidden:function(){var e=m.attr("style"),t=m.css("display"),n=e===w||""===e;"none"===t||f.is.hidden()?n&&m.removeAttr("style"):(f.verbose("Overriding default display to hide element"),m.css("display","none"))}},has:{direction:function(e){var n=!1;return"string"==typeof(e=e||d.animation)&&(e=e.split(" "),x.each(e,function(e,t){t!==u.inward&&t!==u.outward||(n=!0)})),n},inlineDisplay:function(){var e=m.attr("style")||"";return Array.isArray(e.match(/display.*?;/,""))}},set:{animating:function(e){f.remove.completeCallback(),e=e||d.animation;var t=f.get.animationClass(e);f.save.animation(t),f.force.visible()&&(f.remove.hidden(),f.remove.direction(),f.start.animation(t))},duration:function(e,t){!(t="number"==typeof(t=t||d.duration)?t+"ms":t)&&0!==t||(f.verbose("Setting animation duration",t),m.css({"animation-duration":t}))},direction:function(e){(e=e||f.get.direction())==u.inward?f.set.inward():f.set.outward()},looping:function(){f.debug("Transition set to loop"),m.addClass(u.looping)},hidden:function(){m.addClass(u.transition).addClass(u.hidden)},inward:function(){f.debug("Setting direction to inward"),m.removeClass(u.outward).addClass(u.inward)},outward:function(){f.debug("Setting direction to outward"),m.removeClass(u.inward).addClass(u.outward)},visible:function(){m.addClass(u.transition).addClass(u.visible)}},start:{animation:function(e){e=e||f.get.animationClass(),f.debug("Starting tween",e),m.addClass(e).one(o+".complete"+a,f.complete),d.useFailSafe&&f.add.failSafe(),f.set.duration(d.duration),d.onStart.call(l)}},save:{animation:function(e){f.cache||(f.cache={}),f.cache.animation=e},displayType:function(e){"none"!==e&&m.data(n.displayType,e)},transitionExists:function(e,t){x.fn.transition.exists[e]=t,f.verbose("Saving existence of transition",e,t)}},restore:{conditions:function(){var e=f.get.currentAnimation();e&&(m.removeClass(e),f.verbose("Removing animation class",f.cache)),f.remove.duration()}},add:{failSafe:function(){var e=f.get.duration();f.timer=setTimeout(function(){m.triggerHandler(o)},e+d.failSafeDelay),f.verbose("Adding fail safe timer",f.timer)}},remove:{animating:function(){m.removeClass(u.animating)},animationCallbacks:function(){f.remove.queueCallback(),f.remove.completeCallback()},queueCallback:function(){m.off(".queue"+a)},completeCallback:function(){m.off(".complete"+a)},display:function(){m.css("display","")},direction:function(){m.removeClass(u.inward).removeClass(u.outward)},duration:function(){m.css("animation-duration","")},failSafe:function(){f.verbose("Removing fail safe timer",f.timer),f.timer&&clearTimeout(f.timer)},hidden:function(){m.removeClass(u.hidden)},visible:function(){m.removeClass(u.visible)},looping:function(){f.debug("Transitions are no longer looping"),f.is.looping()&&(f.reset(),m.removeClass(u.looping))},transition:function(){m.removeClass(u.transition).removeClass(u.visible).removeClass(u.hidden)}},get:{settings:function(e,t,n){return"object"==typeof e?x.extend(!0,{},x.fn.transition.settings,e):"function"==typeof n?x.extend({},x.fn.transition.settings,{animation:e,onComplete:n,duration:t}):"string"==typeof t||"number"==typeof t?x.extend({},x.fn.transition.settings,{animation:e,duration:t}):"object"==typeof t?x.extend({},x.fn.transition.settings,t,{animation:e}):"function"==typeof t?x.extend({},x.fn.transition.settings,{animation:e,onComplete:t}):x.extend({},x.fn.transition.settings,{animation:e})},animationClass:function(e){var t=e||d.animation,n=f.can.transition()&&!f.has.direction()?f.get.direction()+" ":"";return u.animating+" "+u.transition+" "+n+t},currentAnimation:function(){return!(!f.cache||f.cache.animation===w)&&f.cache.animation},currentDirection:function(){return f.is.inward()?u.inward:u.outward},direction:function(){return f.is.hidden()||!f.is.visible()?u.inward:u.outward},animationDirection:function(e){var n;return"string"==typeof(e=e||d.animation)&&(e=e.split(" "),x.each(e,function(e,t){t===u.inward?n=u.inward:t===u.outward&&(n=u.outward)})),n||!1},duration:function(e){return!1===(e=e||d.duration)&&(e=m.css("animation-duration")||0),"string"==typeof e?-1<e.indexOf("ms")?parseFloat(e):1e3*parseFloat(e):e},displayType:function(e){if(e=e===w||e,d.displayType)return d.displayType;if(e&&m.data(n.displayType)===w){var t=m.css("display");""===t||"none"===t?f.can.transition(!0):f.save.displayType(t)}return m.data(n.displayType)},userStyle:function(e){return(e=e||m.attr("style")||"").replace(/display.*?;/,"")},transitionExists:function(e){return x.fn.transition.exists[e]},animationStartEvent:function(){var e,t=D.createElement("div"),n={animation:"animationstart",OAnimation:"oAnimationStart",MozAnimation:"mozAnimationStart",WebkitAnimation:"webkitAnimationStart"};for(e in n)if(t.style[e]!==w)return n[e];return!1},animationEndEvent:function(){var e,t=D.createElement("div"),n={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"mozAnimationEnd",WebkitAnimation:"webkitAnimationEnd"};for(e in n)if(t.style[e]!==w)return n[e];return!1}},can:{transition:function(e){var t,n,i,o,a,r,s=d.animation,l=f.get.transitionExists(s),c=f.get.displayType(!1);if(l===w||e){if(f.verbose("Determining whether animation exists"),t=m.attr("class"),n=m.prop("tagName"),o=(i=x("<"+n+" />").addClass(t).insertAfter(m)).addClass(s).removeClass(u.inward).removeClass(u.outward).addClass(u.animating).addClass(u.transition).css("animationName"),a=i.addClass(u.inward).css("animationName"),c||(c=i.attr("class",t).removeAttr("style").removeClass(u.hidden).removeClass(u.visible).show().css("display"),f.verbose("Determining final display state",c),f.save.displayType(c)),i.remove(),o!=a)f.debug("Direction exists for animation",s),r=!0;else{if("none"==o||!o)return void f.debug("No animation defined in css",s);f.debug("Static animation found",s,c),r=!1}f.save.transitionExists(s,r)}return l!==w?l:r},animate:function(){return f.can.transition()!==w}},is:{animating:function(){return m.hasClass(u.animating)},inward:function(){return m.hasClass(u.inward)},outward:function(){return m.hasClass(u.outward)},looping:function(){return m.hasClass(u.looping)},occurring:function(e){return e="."+(e=e||d.animation).replace(" ","."),0<m.filter(e).length},visible:function(){return m.is(":visible")},hidden:function(){return"hidden"===m.css("visibility")},supported:function(){return!1!==o}},hide:function(){f.verbose("Hiding element"),f.is.animating()&&f.reset(),l.blur(),f.remove.display(),f.remove.visible(),x.isFunction(d.onBeforeHide)?d.onBeforeHide.call(l,function(){f.hideNow()}):f.hideNow()},hideNow:function(){f.set.hidden(),f.force.hidden(),d.onHide.call(l),d.onComplete.call(l)},show:function(e){f.verbose("Showing element",e),f.force.visible()&&(f.remove.hidden(),f.set.visible(),d.onShow.call(l),d.onComplete.call(l))},toggle:function(){f.is.visible()?f.hide():f.show()},stop:function(){f.debug("Stopping current animation"),m.triggerHandler(o)},stopAll:function(){f.debug("Stopping all animation"),f.remove.queueCallback(),m.triggerHandler(o)},clear:{queue:function(){f.debug("Clearing animation queue"),f.remove.queueCallback()}},enable:function(){f.verbose("Starting animation"),m.removeClass(u.disabled)},disable:function(){f.debug("Stopping animation"),m.addClass(u.disabled)},setting:function(e,t){if(f.debug("Changing setting",e,t),x.isPlainObject(e))x.extend(!0,d,e);else{if(t===w)return d[e];x.isPlainObject(d[e])?x.extend(!0,d[e],t):d[e]=t}},internal:function(e,t){if(x.isPlainObject(e))x.extend(!0,f,e);else{if(t===w)return f[e];f[e]=t}},debug:function(){!d.silent&&d.debug&&(d.performance?f.performance.log(arguments):(f.debug=Function.prototype.bind.call(console.info,console,d.name+":"),f.debug.apply(console,arguments)))},verbose:function(){!d.silent&&d.verbose&&d.debug&&(d.performance?f.performance.log(arguments):(f.verbose=Function.prototype.bind.call(console.info,console,d.name+":"),f.verbose.apply(console,arguments)))},error:function(){d.silent||(f.error=Function.prototype.bind.call(console.error,console,d.name+":"),f.error.apply(console,arguments))},performance:{log:function(e){var t,n;d.performance&&(n=(t=(new Date).getTime())-(g||t),g=t,h.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:l,"Execution Time":n})),clearTimeout(f.performance.timer),f.performance.timer=setTimeout(f.performance.display,500)},display:function(){var e=d.name+":",n=0;g=!1,clearTimeout(f.performance.timer),x.each(h,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",p&&(e+=" '"+p+"'"),1<r.length&&(e+=" ("+r.length+")"),(console.group!==w||console.table!==w)&&0<h.length&&(console.groupCollapsed(e),console.table?console.table(h):x.each(h,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),h=[]}},invoke:function(i,e,t){var o,a,n,r=s;return e=e||y,t=l||t,"string"==typeof i&&r!==w&&(i=i.split(/[\. ]/),o=i.length-1,x.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(x.isPlainObject(r[n])&&e!=o)r=r[n];else{if(r[n]!==w)return a=r[n],!1;if(!x.isPlainObject(r[t])||e==o)return r[t]!==w&&(a=r[t]),!1;r=r[t]}})),x.isFunction(a)?n=a.apply(t,e):a!==w&&(n=a),Array.isArray(c)?c.push(n):c!==w?c=[c,n]:n!==w&&(c=n),a!==w&&a}}).initialize()}),c!==w?c:this},x.fn.transition.exists={},x.fn.transition.settings={name:"Transition",silent:!1,debug:!1,verbose:!1,performance:!0,namespace:"transition",interval:0,reverse:"auto",onStart:function(){},onComplete:function(){},onShow:function(){},onHide:function(){},useFailSafe:!0,failSafeDelay:100,allowRepeats:!1,displayType:!1,animation:"fade",duration:!1,queue:!0,skipInlineHidden:!1,metadata:{displayType:"display"},className:{animating:"animating",disabled:"disabled",hidden:"hidden",inward:"in",loading:"loading",looping:"looping",outward:"out",transition:"transition",visible:"visible"},error:{noAnimation:"Element is no longer attached to DOM. Unable to animate.  Use silent setting to surpress this warning in production.",repeated:"That animation is already occurring, cancelling repeated animation",method:"The method you called is not defined",support:"This browser does not support CSS animations"}}}(jQuery,window,document),function(A,F,O,P){"use strict";A.isFunction=A.isFunction||function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},F=void 0!==F&&F.Math==Math?F:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),A.fn.visibility=function(v){var y,e=A(this),C=e.selector||"",x=(new Date).getTime(),D=[],w=v,k="string"==typeof w,S=[].slice.call(arguments,1),T=e.length,M=0;return e.each(function(){var e,t,n,s,o=A.isPlainObject(v)?A.extend(!0,{},A.fn.visibility.settings,v):A.extend({},A.fn.visibility.settings),i=o.className,a=o.namespace,l=o.error,r=o.metadata,c="."+a,d="module-"+a,u=A(F),f=A(this),m=A(o.context),p=f.data(d),g=F.requestAnimationFrame||F.mozRequestAnimationFrame||F.webkitRequestAnimationFrame||F.msRequestAnimationFrame||function(e){setTimeout(e,0)},h=this,b=!1;s={initialize:function(){s.debug("Initializing",o),s.setup.cache(),s.should.trackChanges()&&("image"==o.type&&s.setup.image(),"fixed"==o.type&&s.setup.fixed(),o.observeChanges&&s.observeChanges(),s.bind.events()),s.save.position(),s.is.visible()||s.error(l.visible,f),o.initialCheck&&s.checkVisibility(),s.instantiate()},instantiate:function(){s.debug("Storing instance",s),f.data(d,s),p=s},destroy:function(){s.verbose("Destroying previous module"),n&&n.disconnect(),t&&t.disconnect(),u.off("load"+c,s.event.load).off("resize"+c,s.event.resize),m.off("scroll"+c,s.event.scroll).off("scrollchange"+c,s.event.scrollchange),"fixed"==o.type&&(s.resetFixed(),s.remove.placeholder()),f.off(c).removeData(d)},observeChanges:function(){"MutationObserver"in F&&(t=new MutationObserver(s.event.contextChanged),n=new MutationObserver(s.event.changed),t.observe(O,{childList:!0,subtree:!0}),n.observe(h,{childList:!0,subtree:!0}),s.debug("Setting up mutation observer",n))},bind:{events:function(){s.verbose("Binding visibility events to scroll and resize"),o.refreshOnLoad&&u.on("load"+c,s.event.load),u.on("resize"+c,s.event.resize),m.off("scroll"+c).on("scroll"+c,s.event.scroll).on("scrollchange"+c,s.event.scrollchange)}},event:{changed:function(e){s.verbose("DOM tree modified, updating visibility calculations"),s.timer=setTimeout(function(){s.verbose("DOM tree modified, updating sticky menu"),s.refresh()},100)},contextChanged:function(e){[].forEach.call(e,function(e){e.removedNodes&&[].forEach.call(e.removedNodes,function(e){(e==h||0<A(e).find(h).length)&&(s.debug("Element removed from DOM, tearing down events"),s.destroy())})})},resize:function(){s.debug("Window resized"),o.refreshOnResize&&g(s.refresh)},load:function(){s.debug("Page finished loading"),g(s.refresh)},scroll:function(){o.throttle?(clearTimeout(s.timer),s.timer=setTimeout(function(){m.triggerHandler("scrollchange"+c,[m.scrollTop()])},o.throttle)):g(function(){m.triggerHandler("scrollchange"+c,[m.scrollTop()])})},scrollchange:function(e,t){s.checkVisibility(t)}},precache:function(e,t){e instanceof Array||(e=[e]);for(var n=e.length,i=0,o=[],a=O.createElement("img"),r=function(){++i>=e.length&&A.isFunction(t)&&t()};n--;)(a=O.createElement("img")).onload=r,a.onerror=r,a.src=e[n],o.push(a)},enableCallbacks:function(){s.debug("Allowing callbacks to occur"),b=!1},disableCallbacks:function(){s.debug("Disabling all callbacks temporarily"),b=!0},should:{trackChanges:function(){return k?(s.debug("One time query, no need to bind events"),!1):(s.debug("Callbacks being attached"),!0)}},setup:{cache:function(){s.cache={occurred:{},screen:{},element:{}}},image:function(){var e=f.data(r.src);e&&(s.verbose("Lazy loading image",e),o.once=!0,o.observeChanges=!1,o.onOnScreen=function(){s.debug("Image on screen",h),s.precache(e,function(){s.set.image(e,function(){++M==T&&o.onAllLoaded.call(this),o.onLoad.call(this)})})})},fixed:function(){s.debug("Setting up fixed"),o.once=!1,o.observeChanges=!1,o.initialCheck=!0,o.refreshOnLoad=!0,v.transition||(o.transition=!1),s.create.placeholder(),s.debug("Added placeholder",e),o.onTopPassed=function(){s.debug("Element passed, adding fixed position",f),s.show.placeholder(),s.set.fixed(),o.transition&&A.fn.transition!==P&&f.transition(o.transition,o.duration)},o.onTopPassedReverse=function(){s.debug("Element returned to position, removing fixed",f),s.hide.placeholder(),s.remove.fixed()}}},create:{placeholder:function(){s.verbose("Creating fixed position placeholder"),e=f.clone(!1).css("display","none").addClass(i.placeholder).insertAfter(f)}},show:{placeholder:function(){s.verbose("Showing placeholder"),e.css("display","block").css("visibility","hidden")}},hide:{placeholder:function(){s.verbose("Hiding placeholder"),e.css("display","none").css("visibility","")}},set:{fixed:function(){s.verbose("Setting element to fixed position"),f.addClass(i.fixed).css({position:"fixed",top:o.offset+"px",left:"auto",zIndex:o.zIndex}),o.onFixed.call(h)},image:function(e,t){if(f.attr("src",e),o.transition)if(A.fn.transition!==P){if(f.hasClass(i.visible))return void s.debug("Transition already occurred on this image, skipping animation");f.transition(o.transition,o.duration,t)}else f.fadeIn(o.duration,t);else f.show()}},is:{onScreen:function(){return s.get.elementCalculations().onScreen},offScreen:function(){return s.get.elementCalculations().offScreen},visible:function(){return!(!s.cache||!s.cache.element)&&!(0===s.cache.element.width&&0===s.cache.element.offset.top)},verticallyScrollableContext:function(){var e=m.get(0)!==F&&m.css("overflow-y");return"auto"==e||"scroll"==e},horizontallyScrollableContext:function(){var e=m.get(0)!==F&&m.css("overflow-x");return"auto"==e||"scroll"==e}},refresh:function(){s.debug("Refreshing constants (width/height)"),"fixed"==o.type&&s.resetFixed(),s.reset(),s.save.position(),o.checkOnRefresh&&s.checkVisibility(),o.onRefresh.call(h)},resetFixed:function(){s.remove.fixed(),s.remove.occurred()},reset:function(){s.verbose("Resetting all cached values"),A.isPlainObject(s.cache)&&(s.cache.screen={},s.cache.element={})},checkVisibility:function(e){s.verbose("Checking visibility of element",s.cache.element),!b&&s.is.visible()&&(s.save.scroll(e),s.save.calculations(),s.passed(),s.passingReverse(),s.topVisibleReverse(),s.bottomVisibleReverse(),s.topPassedReverse(),s.bottomPassedReverse(),s.onScreen(),s.offScreen(),s.passing(),s.topVisible(),s.bottomVisible(),s.topPassed(),s.bottomPassed(),o.onUpdate&&o.onUpdate.call(h,s.get.elementCalculations()))},passed:function(e,t){var n=s.get.elementCalculations();if(e&&t)o.onPassed[e]=t;else{if(e!==P)return s.get.pixelsPassed(e)>n.pixelsPassed;n.passing&&A.each(o.onPassed,function(e,t){n.bottomVisible||n.pixelsPassed>s.get.pixelsPassed(e)?s.execute(t,e):o.once||s.remove.occurred(t)})}},onScreen:function(e){var t=s.get.elementCalculations(),n=e||o.onOnScreen,i="onScreen";if(e&&(s.debug("Adding callback for onScreen",e),o.onOnScreen=e),t.onScreen?s.execute(n,i):o.once||s.remove.occurred(i),e!==P)return t.onOnScreen},offScreen:function(e){var t=s.get.elementCalculations(),n=e||o.onOffScreen,i="offScreen";if(e&&(s.debug("Adding callback for offScreen",e),o.onOffScreen=e),t.offScreen?s.execute(n,i):o.once||s.remove.occurred(i),e!==P)return t.onOffScreen},passing:function(e){var t=s.get.elementCalculations(),n=e||o.onPassing,i="passing";if(e&&(s.debug("Adding callback for passing",e),o.onPassing=e),t.passing?s.execute(n,i):o.once||s.remove.occurred(i),e!==P)return t.passing},topVisible:function(e){var t=s.get.elementCalculations(),n=e||o.onTopVisible,i="topVisible";if(e&&(s.debug("Adding callback for top visible",e),o.onTopVisible=e),t.topVisible?s.execute(n,i):o.once||s.remove.occurred(i),e===P)return t.topVisible},bottomVisible:function(e){var t=s.get.elementCalculations(),n=e||o.onBottomVisible,i="bottomVisible";if(e&&(s.debug("Adding callback for bottom visible",e),o.onBottomVisible=e),t.bottomVisible?s.execute(n,i):o.once||s.remove.occurred(i),e===P)return t.bottomVisible},topPassed:function(e){var t=s.get.elementCalculations(),n=e||o.onTopPassed,i="topPassed";if(e&&(s.debug("Adding callback for top passed",e),o.onTopPassed=e),t.topPassed?s.execute(n,i):o.once||s.remove.occurred(i),e===P)return t.topPassed},bottomPassed:function(e){var t=s.get.elementCalculations(),n=e||o.onBottomPassed,i="bottomPassed";if(e&&(s.debug("Adding callback for bottom passed",e),o.onBottomPassed=e),t.bottomPassed?s.execute(n,i):o.once||s.remove.occurred(i),e===P)return t.bottomPassed},passingReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onPassingReverse,i="passingReverse";if(e&&(s.debug("Adding callback for passing reverse",e),o.onPassingReverse=e),t.passing?o.once||s.remove.occurred(i):s.get.occurred("passing")&&s.execute(n,i),e!==P)return!t.passing},topVisibleReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onTopVisibleReverse,i="topVisibleReverse";if(e&&(s.debug("Adding callback for top visible reverse",e),o.onTopVisibleReverse=e),t.topVisible?o.once||s.remove.occurred(i):s.get.occurred("topVisible")&&s.execute(n,i),e===P)return!t.topVisible},bottomVisibleReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onBottomVisibleReverse,i="bottomVisibleReverse";if(e&&(s.debug("Adding callback for bottom visible reverse",e),o.onBottomVisibleReverse=e),t.bottomVisible?o.once||s.remove.occurred(i):s.get.occurred("bottomVisible")&&s.execute(n,i),e===P)return!t.bottomVisible},topPassedReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onTopPassedReverse,i="topPassedReverse";if(e&&(s.debug("Adding callback for top passed reverse",e),o.onTopPassedReverse=e),t.topPassed?o.once||s.remove.occurred(i):s.get.occurred("topPassed")&&s.execute(n,i),e===P)return!t.onTopPassed},bottomPassedReverse:function(e){var t=s.get.elementCalculations(),n=e||o.onBottomPassedReverse,i="bottomPassedReverse";if(e&&(s.debug("Adding callback for bottom passed reverse",e),o.onBottomPassedReverse=e),t.bottomPassed?o.once||s.remove.occurred(i):s.get.occurred("bottomPassed")&&s.execute(n,i),e===P)return!t.bottomPassed},execute:function(e,t){var n=s.get.elementCalculations(),i=s.get.screenCalculations();(e=e||!1)&&(o.continuous?(s.debug("Callback being called continuously",t,n),e.call(h,n,i)):s.get.occurred(t)||(s.debug("Conditions met",t,n),e.call(h,n,i))),s.save.occurred(t)},remove:{fixed:function(){s.debug("Removing fixed position"),f.removeClass(i.fixed).css({position:"",top:"",left:"",zIndex:""}),o.onUnfixed.call(h)},placeholder:function(){s.debug("Removing placeholder content"),e&&e.remove()},occurred:function(e){if(e){var t=s.cache.occurred;t[e]!==P&&!0===t[e]&&(s.debug("Callback can now be called again",e),s.cache.occurred[e]=!1)}else s.cache.occurred={}}},save:{calculations:function(){s.verbose("Saving all calculations necessary to determine positioning"),s.save.direction(),s.save.screenCalculations(),s.save.elementCalculations()},occurred:function(e){e&&(s.cache.occurred[e]!==P&&!0===s.cache.occurred[e]||(s.verbose("Saving callback occurred",e),s.cache.occurred[e]=!0))},scroll:function(e){e=e+o.offset||m.scrollTop()+o.offset,s.cache.scroll=e},direction:function(){var e,t=s.get.scroll(),n=s.get.lastScroll();return e=n<t&&n?"down":t<n&&n?"up":"static",s.cache.direction=e,s.cache.direction},elementPosition:function(){var e=s.cache.element,t=s.get.screenSize();return s.verbose("Saving element position"),e.fits=e.height<t.height,e.offset=f.offset(),e.width=f.outerWidth(),e.height=f.outerHeight(),s.is.verticallyScrollableContext()&&(e.offset.top+=m.scrollTop()-m.offset().top),s.is.horizontallyScrollableContext()&&(e.offset.left+=m.scrollLeft-m.offset().left),s.cache.element=e},elementCalculations:function(){var e=s.get.screenCalculations(),t=s.get.elementPosition();return o.includeMargin?(t.margin={},t.margin.top=parseInt(f.css("margin-top"),10),t.margin.bottom=parseInt(f.css("margin-bottom"),10),t.top=t.offset.top-t.margin.top,t.bottom=t.offset.top+t.height+t.margin.bottom):(t.top=t.offset.top,t.bottom=t.offset.top+t.height),t.topPassed=e.top>=t.top,t.bottomPassed=e.top>=t.bottom,t.topVisible=e.bottom>=t.top&&!t.topPassed,t.bottomVisible=e.bottom>=t.bottom&&!t.bottomPassed,t.pixelsPassed=0,t.percentagePassed=0,t.onScreen=(t.topVisible||t.passing)&&!t.bottomPassed,t.passing=t.topPassed&&!t.bottomPassed,t.offScreen=!t.onScreen,t.passing&&(t.pixelsPassed=e.top-t.top,t.percentagePassed=(e.top-t.top)/t.height),s.cache.element=t,s.verbose("Updated element calculations",t),t},screenCalculations:function(){var e=s.get.scroll();return s.save.direction(),s.cache.screen.top=e,s.cache.screen.bottom=e+s.cache.screen.height,s.cache.screen},screenSize:function(){s.verbose("Saving window position"),s.cache.screen={height:m.height()}},position:function(){s.save.screenSize(),s.save.elementPosition()}},get:{pixelsPassed:function(e){var t=s.get.elementCalculations();return-1<e.search("%")?t.height*(parseInt(e,10)/100):parseInt(e,10)},occurred:function(e){return s.cache.occurred!==P&&s.cache.occurred[e]||!1},direction:function(){return s.cache.direction===P&&s.save.direction(),s.cache.direction},elementPosition:function(){return s.cache.element===P&&s.save.elementPosition(),s.cache.element},elementCalculations:function(){return s.cache.element===P&&s.save.elementCalculations(),s.cache.element},screenCalculations:function(){return s.cache.screen===P&&s.save.screenCalculations(),s.cache.screen},screenSize:function(){return s.cache.screen===P&&s.save.screenSize(),s.cache.screen},scroll:function(){return s.cache.scroll===P&&s.save.scroll(),s.cache.scroll},lastScroll:function(){return s.cache.screen===P?(s.debug("First scroll event, no last scroll could be found"),!1):s.cache.screen.top}},setting:function(e,t){if(A.isPlainObject(e))A.extend(!0,o,e);else{if(t===P)return o[e];o[e]=t}},internal:function(e,t){if(A.isPlainObject(e))A.extend(!0,s,e);else{if(t===P)return s[e];s[e]=t}},debug:function(){!o.silent&&o.debug&&(o.performance?s.performance.log(arguments):(s.debug=Function.prototype.bind.call(console.info,console,o.name+":"),s.debug.apply(console,arguments)))},verbose:function(){!o.silent&&o.verbose&&o.debug&&(o.performance?s.performance.log(arguments):(s.verbose=Function.prototype.bind.call(console.info,console,o.name+":"),s.verbose.apply(console,arguments)))},error:function(){o.silent||(s.error=Function.prototype.bind.call(console.error,console,o.name+":"),s.error.apply(console,arguments))},performance:{log:function(e){var t,n;o.performance&&(n=(t=(new Date).getTime())-(x||t),x=t,D.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:h,"Execution Time":n})),clearTimeout(s.performance.timer),s.performance.timer=setTimeout(s.performance.display,500)},display:function(){var e=o.name+":",n=0;x=!1,clearTimeout(s.performance.timer),A.each(D,function(e,t){n+=t["Execution Time"]}),e+=" "+n+"ms",C&&(e+=" '"+C+"'"),(console.group!==P||console.table!==P)&&0<D.length&&(console.groupCollapsed(e),console.table?console.table(D):A.each(D,function(e,t){console.log(t.Name+": "+t["Execution Time"]+"ms")}),console.groupEnd()),D=[]}},invoke:function(i,e,t){var o,a,n,r=p;return e=e||S,t=h||t,"string"==typeof i&&r!==P&&(i=i.split(/[\. ]/),o=i.length-1,A.each(i,function(e,t){var n=e!=o?t+i[e+1].charAt(0).toUpperCase()+i[e+1].slice(1):i;if(A.isPlainObject(r[n])&&e!=o)r=r[n];else{if(r[n]!==P)return a=r[n],!1;if(!A.isPlainObject(r[t])||e==o)return r[t]!==P?a=r[t]:s.error(l.method,i),!1;r=r[t]}})),A.isFunction(a)?n=a.apply(t,e):a!==P&&(n=a),Array.isArray(y)?y.push(n):y!==P?y=[y,n]:n!==P&&(y=n),a}},k?(p===P&&s.initialize(),p.save.scroll(),p.save.calculations(),s.invoke(w)):(p!==P&&p.invoke("destroy"),s.initialize())}),y!==P?y:this},A.fn.visibility.settings={name:"Visibility",namespace:"visibility",debug:!1,verbose:!1,performance:!0,observeChanges:!0,initialCheck:!0,refreshOnLoad:!0,refreshOnResize:!0,checkOnRefresh:!0,once:!0,continuous:!1,offset:0,includeMargin:!1,context:F,throttle:!1,type:!1,zIndex:"10",transition:"fade in",duration:1e3,onPassed:{},onOnScreen:!1,onOffScreen:!1,onPassing:!1,onTopVisible:!1,onBottomVisible:!1,onTopPassed:!1,onBottomPassed:!1,onPassingReverse:!1,onTopVisibleReverse:!1,onBottomVisibleReverse:!1,onTopPassedReverse:!1,onBottomPassedReverse:!1,onLoad:function(){},onAllLoaded:function(){},onFixed:function(){},onUnfixed:function(){},onUpdate:!1,onRefresh:function(){},metadata:{src:"src"},className:{fixed:"fixed",placeholder:"constraint",visible:"visible"},error:{method:"The method you called is not defined.",visible:"Element is hidden, you must call refresh after element becomes visible"}}}(jQuery,window,document);